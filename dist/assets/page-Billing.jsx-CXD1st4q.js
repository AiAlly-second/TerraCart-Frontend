import{R as B,r as l,j as e,F as oe,a as ie,b as le,u as U,c as ce,d as de,e as ue}from"./vendor-react-BMxAjtiD.js";import{A as ge,m as V}from"./vendor-motion-iT52ZrD2.js";/* empty css                         */const pe="/assets/logo_new-CZBz3dRe.png",me={header:"ðŸ½ï¸ Assistance",tapService:"ðŸ‘† Tap any service you need",speakOrType:"Speak or type your request",placeholder:"Type or speak your request...",sendButton:"ðŸ“© Send to waiter",listening:"ðŸŽ™ï¸ Listeningâ€¦",processing:"â³ Processing speechâ€¦",urgentButton:"ðŸš¨ URGENT - Call Manager",footer:"âš¡ Request sent instantly to nearest waiter",titleStart:"Start recording",titleStop:"Stop recording",alerts:{requestSentPrefix:"Request sent:",emptyRequest:"Please type or speak your request.",voiceError:"Sorry, we couldn't process your voice. Please try again.",micError:"Microphone access failed. Please allow mic permission.",urgentCalled:"ðŸš¨ Waiter called immediately!",selectTable:"Please select a table first."},services:{water:"Water",saltPepper:"Salt & Pepper",plates:"Extra Plates",cutlery:"Spoons/Forks",napkins:"Tissues/Napkins",cleanTable:"Clean Table",menuCard:"Menu Card",bill:"Bill/Check",sauce:"Chutney/Sauce",softDrinks:"Soft Drinks",lemonWater:"Lemon Water",callWaiter:"Call Waiter"}},be={header:"ðŸ½ï¸ à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾",tapService:"ðŸ‘† à¤œà¤¿à¤¸ à¤¸à¥‡à¤µà¤¾ à¤•à¥€ à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾ à¤¹à¥ˆ à¤‰à¤¸ à¤ªà¤° à¤Ÿà¥ˆà¤ª à¤•à¤°à¥‡à¤‚",speakOrType:"à¤…à¤ªà¤¨à¥€ à¤°à¤¿à¤•à¥à¤µà¥‡à¤¸à¥à¤Ÿ à¤¬à¥‹à¤²à¥‡à¤‚ à¤¯à¤¾ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¥‡à¤‚",placeholder:"à¤…à¤ªà¤¨à¥€ à¤°à¤¿à¤•à¥à¤µà¥‡à¤¸à¥à¤Ÿ à¤¬à¥‹à¤²à¥‡à¤‚ à¤¯à¤¾ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¥‡à¤‚...",sendButton:"ðŸ“© à¤µà¥‡à¤Ÿà¤° à¤•à¥‹ à¤­à¥‡à¤œà¥‡à¤‚",listening:"ðŸŽ™ï¸ à¤¸à¥à¤¨ à¤°à¤¹à¤¾ à¤¹à¥ˆâ€¦",processing:"â³ à¤†à¤µà¤¾à¤œà¤¼ à¤ªà¥à¤°à¥‹à¤¸à¥‡à¤¸ à¤¹à¥‹ à¤°à¤¹à¥€ à¤¹à¥ˆâ€¦",urgentButton:"ðŸš¨ à¤¤à¥à¤°à¤‚à¤¤ - à¤®à¥ˆà¤¨à¥‡à¤œà¤° à¤•à¥‹ à¤¬à¥à¤²à¤¾à¤à¤",footer:"âš¡ à¤°à¤¿à¤•à¥à¤µà¥‡à¤¸à¥à¤Ÿ à¤¤à¥à¤°à¤‚à¤¤ à¤¨à¤œà¤¼à¤¦à¥€à¤•à¥€ à¤µà¥‡à¤Ÿà¤° à¤•à¥‹ à¤­à¥‡à¤œà¥€ à¤—à¤ˆ",titleStart:"à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡à¤¿à¤‚à¤— à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚",titleStop:"à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡à¤¿à¤‚à¤— à¤°à¥‹à¤•à¥‡à¤‚",alerts:{requestSentPrefix:"à¤°à¤¿à¤•à¥à¤µà¥‡à¤¸à¥à¤Ÿ à¤­à¥‡à¤œà¥€ à¤—à¤ˆ:",emptyRequest:"à¤•à¥ƒà¤ªà¤¯à¤¾ à¤…à¤ªà¤¨à¥€ à¤°à¤¿à¤•à¥à¤µà¥‡à¤¸à¥à¤Ÿ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¥‡à¤‚ à¤¯à¤¾ à¤¬à¥‹à¤²à¥‡à¤‚à¥¤",voiceError:"à¤®à¤¾à¤«à¤¼ à¤•à¥€à¤œà¤¿à¤, à¤†à¤ªà¤•à¥€ à¤†à¤µà¤¾à¤œà¤¼ à¤ªà¥à¤°à¥‹à¤¸à¥‡à¤¸ à¤¨à¤¹à¥€à¤‚ à¤¹à¥‹ à¤¸à¤•à¥€à¥¤ à¤¦à¥‹à¤¬à¤¾à¤°à¤¾ à¤•à¥‹à¤¶à¤¿à¤¶ à¤•à¤°à¥‡à¤‚à¥¤",micError:"à¤®à¤¾à¤‡à¤•à¥à¤°à¥‹à¤«à¤¼à¥‹à¤¨ à¤…à¤¨à¥à¤®à¤¤à¤¿ à¤…à¤¸à¤«à¤²à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤…à¤¨à¥à¤®à¤¤à¤¿ à¤¦à¥‡à¤‚à¥¤",urgentCalled:"ðŸš¨ à¤µà¥‡à¤Ÿà¤° à¤•à¥‹ à¤¤à¥à¤°à¤‚à¤¤ à¤¬à¥à¤²à¤¾à¤¯à¤¾ à¤—à¤¯à¤¾!"},services:{water:"à¤ªà¤¾à¤¨à¥€",saltPepper:"à¤¨à¤®à¤• à¤”à¤° à¤•à¤¾à¤²à¥€ à¤®à¤¿à¤°à¥à¤š",plates:"à¤…à¤¤à¤¿à¤°à¤¿à¤•à¥à¤¤ à¤ªà¥à¤²à¥‡à¤Ÿà¥‡à¤‚",cutlery:"à¤šà¤®à¥à¤®à¤š/à¤•à¤¾à¤‚à¤Ÿà¥‡",napkins:"à¤Ÿà¤¿à¤¶à¥à¤¯à¥‚/à¤¨à¥ˆà¤ªà¤•à¤¿à¤¨",cleanTable:"à¤Ÿà¥‡à¤¬à¤² à¤¸à¤¾à¤« à¤•à¤°à¥‡à¤‚",menuCard:"à¤®à¥‡à¤¨à¥‚ à¤•à¤¾à¤°à¥à¤¡",bill:"à¤¬à¤¿à¤²/à¤šà¥‡à¤•",sauce:"à¤šà¤Ÿà¤¨à¥€/à¤¸à¥‰à¤¸",softDrinks:"à¤¸à¥‰à¤«à¥à¤Ÿ à¤¡à¥à¤°à¤¿à¤‚à¤•à¥à¤¸",lemonWater:"à¤¨à¥€à¤‚à¤¬à¥‚ à¤ªà¤¾à¤¨à¥€",callWaiter:"à¤µà¥‡à¤Ÿà¤° à¤•à¥‹ à¤¬à¥à¤²à¤¾à¤à¤"}},fe={header:"ðŸ½ï¸ à¤®à¤¦à¤¤",tapService:"ðŸ‘† à¤†à¤µà¤¶à¥à¤¯à¤• à¤¸à¥‡à¤µà¤¾ à¤¨à¤¿à¤µà¤¡à¤¾",speakOrType:"à¤¤à¥à¤®à¤šà¥€ à¤µà¤¿à¤¨à¤‚à¤¤à¥€ à¤¬à¥‹à¤²à¤¾ à¤•à¤¿à¤‚à¤µà¤¾ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¤¾",placeholder:"à¤¤à¥à¤®à¤šà¥€ à¤µà¤¿à¤¨à¤‚à¤¤à¥€ à¤¬à¥‹à¤²à¤¾ à¤•à¤¿à¤‚à¤µà¤¾ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¤¾...",sendButton:"ðŸ“© à¤µà¥‡à¤Ÿà¤°à¤²à¤¾ à¤ªà¤¾à¤ à¤µà¤¾",listening:"ðŸŽ™ï¸ à¤à¤•à¤¤ à¤†à¤¹à¥‡â€¦",processing:"â³ à¤†à¤µà¤¾à¤œ à¤ªà¥à¤°à¥‹à¤¸à¥‡à¤¸ à¤•à¤°à¤¤ à¤†à¤¹à¥‡â€¦",urgentButton:"ðŸš¨ à¤¤à¤¾à¤¤à¤¡à¥€à¤šà¥‡ - à¤®à¥…à¤¨à¥‡à¤œà¤°à¤²à¤¾ à¤¬à¥‹à¤²à¤µà¤¾",footer:"âš¡ à¤µà¤¿à¤¨à¤‚à¤¤à¥€ à¤œà¤µà¤³à¤šà¥à¤¯à¤¾ à¤µà¥‡à¤Ÿà¤°à¤•à¤¡à¥‡ à¤¤à¤¤à¥à¤•à¤¾à¤³ à¤ªà¤¾à¤ à¤µà¤²à¥€",titleStart:"à¤°à¥‡à¤•à¥‰à¤°à¥à¤¡à¤¿à¤‚à¤— à¤¸à¥à¤°à¥‚ à¤•à¤°à¤¾",titleStop:"à¤°à¥‡à¤•à¥‰à¤°à¥à¤¡à¤¿à¤‚à¤— à¤¥à¤¾à¤‚à¤¬à¤µà¤¾",alerts:{requestSentPrefix:"à¤µà¤¿à¤¨à¤‚à¤¤à¥€ à¤ªà¤¾à¤ à¤µà¤²à¥€:",emptyRequest:"à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¤à¥à¤®à¤šà¥€ à¤µà¤¿à¤¨à¤‚à¤¤à¥€ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¤¾ à¤•à¤¿à¤‚à¤µà¤¾ à¤¬à¥‹à¤²à¤¾.",voiceError:"à¤•à¥à¤·à¤®à¤¸à¥à¤µ, à¤†à¤µà¤¾à¤œ à¤ªà¥à¤°à¥‹à¤¸à¥‡à¤¸ à¤•à¤°à¤¤à¤¾ à¤†à¤²à¤¾ à¤¨à¤¾à¤¹à¥€. à¤ªà¥à¤¨à¥à¤¹à¤¾ à¤ªà¥à¤°à¤¯à¤¤à¥à¤¨ à¤•à¤°à¤¾.",micError:"à¤®à¤¾à¤¯à¤•à¥à¤°à¥‹à¤«à¥‹à¤¨ à¤ªà¤°à¤µà¤¾à¤¨à¤—à¥€ à¤…à¤¯à¤¶à¤¸à¥à¤µà¥€. à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¤°à¤µà¤¾à¤¨à¤—à¥€ à¤¦à¥à¤¯à¤¾.",urgentCalled:"ðŸš¨ à¤µà¥‡à¤Ÿà¤°à¤²à¤¾ à¤¤à¤¾à¤¤à¤¡à¥€à¤¨à¥‡ à¤¬à¥‹à¤²à¤¾à¤µà¤²à¥‡!"},services:{water:"à¤ªà¤¾à¤£à¥€",saltPepper:"à¤®à¥€à¤  à¤†à¤£à¤¿ à¤®à¤¿à¤°à¥€",plates:"à¤…à¤¤à¤¿à¤°à¤¿à¤•à¥à¤¤ à¤ªà¥à¤²à¥‡à¤Ÿà¥à¤¸",cutlery:"à¤šà¤®à¤šà¥‡/à¤•à¤¾à¤Ÿà¥‡",napkins:"à¤Ÿà¤¿à¤¶à¥à¤¯à¥‚/à¤¨à¥…à¤ªà¤•à¤¿à¤¨",cleanTable:"à¤Ÿà¥‡à¤¬à¤² à¤¸à¥à¤µà¤šà¥à¤› à¤•à¤°à¤¾",menuCard:"à¤®à¥‡à¤¨à¥à¤¯à¥‚ à¤•à¤¾à¤°à¥à¤¡",bill:"à¤¬à¤¿à¤²/à¤šà¥‡à¤•",sauce:"à¤šà¤Ÿà¤£à¥€/à¤¸à¥‰à¤¸",softDrinks:"à¤¸à¥‰à¤«à¥à¤Ÿ à¤¡à¥à¤°à¤¿à¤‚à¤•à¥à¤¸",lemonWater:"à¤²à¤¿à¤‚à¤¬à¥‚ à¤ªà¤¾à¤£à¥€",callWaiter:"à¤µà¥‡à¤Ÿà¤°à¤²à¤¾ à¤¬à¥‹à¤²à¤µà¤¾"}},ye={header:"ðŸ½ï¸ àª®àª¦àª¦",tapService:"ðŸ‘† àª¤àª®àª¨à«‡ àªœà«‡ àª¸à«‡àªµàª¾ àªœà«‹àªˆàª àª¤à«‡ àªªàª° àªŸà«‡àªª àª•àª°à«‹",speakOrType:"àª¤àª®àª¾àª°à«€ àªµàª¿àª¨àª‚àª¤à«€ àª¬à«‹àª²à«‹ àª…àª¥àªµàª¾ àª²àª–à«‹",placeholder:"àª¤àª®àª¾àª°à«€ àªµàª¿àª¨àª‚àª¤à«€ àª¬à«‹àª²à«‹ àª…àª¥àªµàª¾ àª²àª–à«‹...",sendButton:"ðŸ“© àªµà«‡àªˆàªŸàª°àª¨à«‡ àª®à«‹àª•àª²à«‹",listening:"ðŸŽ™ï¸ àª¸àª¾àª‚àª­àª³àªµàª¾àª®àª¾àª‚ àª†àªµà«€ àª°àª¹à«àª¯à«àª‚ àª›à«‡â€¦",processing:"â³ àª…àªµàª¾àªœ àªªà«àª°àª•à«àª°àª¿àª¯àª¾ àª¥àªˆ àª°àª¹à«€ àª›à«‡â€¦",urgentButton:"ðŸš¨ àª¤àª¾àª¤à«àª•àª¾àª²àª¿àª• - àª®à«‡àª¨à«‡àªœàª°àª¨à«‡ àª¬à«‹àª²àª¾àªµà«‹",footer:"âš¡ àªµàª¿àª¨àª‚àª¤à«€ àª¤àª°àª¤ àª¨àªœà«€àª•àª¨àª¾ àªµà«‡àªˆàªŸàª°àª¨à«‡ àª®à«‹àª•àª²àª¾àªˆ",titleStart:"àª°à«€àª•à«‹àª°à«àª¡àª¿àª‚àª— àª¶àª°à«‚ àª•àª°à«‹",titleStop:"àª°à«€àª•à«‹àª°à«àª¡àª¿àª‚àª— àª¬àª‚àª§ àª•àª°à«‹",alerts:{requestSentPrefix:"àªµàª¿àª¨àª‚àª¤à«€ àª®à«‹àª•àª²àª¾àªˆ:",emptyRequest:"àª•à«ƒàªªàª¾ àª•àª°à«€àª¨à«‡ àª¤àª®àª¾àª°à«€ àªµàª¿àª¨àª‚àª¤à«€ àª²àª–à«‹ àª…àª¥àªµàª¾ àª¬à«‹àª²à«‹.",voiceError:"àª®àª¾àª« àª•àª°àª¶à«‹, àª…àªµàª¾àªœ àªªà«àª°à«‹àª¸à«‡àª¸ àª¨ àª¥àªˆ àª¶àª•à«àª¯à«‹. àª«àª°à«€ àªªà«àª°àª¯àª¤à«àª¨ àª•àª°à«‹.",micError:"àª®àª¾àª‡àª•àª¨à«€ àªªàª°àªµàª¾àª¨àª—à«€ àª¨àª¿àª·à«àª«àª³. àª•à«ƒàªªàª¾ àª•àª°à«€àª¨à«‡ àªªàª°àªµàª¾àª¨àª—à«€ àª†àªªà«‹.",urgentCalled:"ðŸš¨ àªµà«‡àªˆàªŸàª°àª¨à«‡ àª¤àª°àª¤ àª¬à«‹àª²àª¾àªµàªµàª¾àª®àª¾àª‚ àª†àªµà«àª¯à«‹!"},services:{water:"àªªàª¾àª£à«€",saltPepper:"àª®à«€àª à«àª‚ àª…àª¨à«‡ àª®àª°à«€",plates:"àªµàª§àª¾àª°àª¾àª¨à«€ àª¥àª¾àª³à«€àª“",cutlery:"àªšàª®àªšà«€/àª•àª¾àª‚àªŸàª¾",napkins:"àªŸàª¿àª¶à«àª¯à«/àª¨à«‡àªªàª•àª¿àª¨",cleanTable:"àªŸà«‡àª¬àª² àª¸àª¾àª« àª•àª°à«‹",menuCard:"àª®à«‡àª¨à« àª•àª¾àª°à«àª¡",bill:"àª¬àª¿àª²/àªšà«‡àª•",sauce:"àªšàªŸàª£à«€/àª¸à«‹àª¸",softDrinks:"àª¸à«‹àª«à«àªŸ àª¡à«àª°àª¿àª‚àª•à«àª¸",lemonWater:"àª²à«€àª‚àª¬à« àªªàª¾àª£à«€",callWaiter:"àªµà«‡àªˆàªŸàª°àª¨à«‡ àª¬à«‹àª²àª¾àªµà«‹"}},K={en:me,hi:be,mr:fe,gu:ye};function he({showCard:o,setShowCard:r,currentTable:d,onTableSelect:g}){const m=(()=>{try{return localStorage.getItem("language")||"en"}catch{return"en"}})(),n=K[m]||K.en,y=B.useMemo(()=>{try{return localStorage.getItem("terra_serviceType")||"DINE_IN"}catch{return"DINE_IN"}},[o]),i=y==="TAKEAWAY"||y==="PICKUP"||y==="DELIVERY",[T,C]=l.useState(()=>d||localStorage.getItem("selectedTable")||""),[R,j]=l.useState(null),[c,E]=l.useState(!d),[_,O]=l.useState([]),[I,A]=l.useState(!1);B.useEffect(()=>{o&&!i&&(async()=>{try{A(!0);const a="https://api.terracart.in".replace(/\/$/,""),s=localStorage.getItem("terra_selectedTable");let p=null;s&&(p=JSON.parse(s).cartId);const u=p?`${a}/api/tables/public?cartId=${p}`:`${a}/api/tables/public`,S=await(await fetch(u)).json();Array.isArray(S)&&O(S)}catch(a){console.error("Failed to fetch tables:",a)}finally{A(!1)}})()},[o,i]);const P=Array.from({length:20},(t,a)=>String(a+1)),h=[{icon:"ðŸ’§",key:"water"},{icon:"ðŸ§‚",key:"saltPepper"},{icon:"ðŸ½ï¸",key:"plates"},{icon:"ðŸ¥„",key:"cutlery"},{icon:"ðŸ§»",key:"napkins"},{icon:"ðŸ§½",key:"cleanTable"},{icon:"ðŸ“‹",key:"menuCard"},{icon:"ðŸ’³",key:"bill"},{icon:"ðŸŒ¶ï¸",key:"sauce"},{icon:"ðŸ¥¤",key:"softDrinks"},{icon:"ðŸ‹",key:"lemonWater"},{icon:"ðŸ””",key:"callWaiter"}],[w,k]=l.useState(""),[v,x]=l.useState(!1),[N,Y]=l.useState(!1),[b,$]=l.useState(!1),F=l.useRef(null),X=t=>({water:"water",saltPepper:"assistance",plates:"assistance",cutlery:"cutlery",napkins:"napkins",cleanTable:"assistance",menuCard:"menu",bill:"bill",sauce:"assistance",softDrinks:"assistance",lemonWater:"water",callWaiter:"assistance"})[t]||"assistance",ee=()=>{const t=localStorage.getItem("terra_selectedCartId");if(t)return t;const a=localStorage.getItem("terra_takeaway_cartId");if(a)return a;const s=localStorage.getItem("terra_selectedTable");if(!s)return null;try{const p=JSON.parse(s),u=p.cartId||p.cafeId||null;if(!u)return null;if(typeof u=="string")return u;if(typeof u=="object"){const f=u._id||u.id;return f?String(f):null}return String(u)}catch{return null}},G=()=>{const t=Number(localStorage.getItem("terra_takeaway_token_preview"));if(Number.isInteger(t)&&t>0)return t;try{const a=localStorage.getItem("terra_previousOrderDetail");if(!a)return null;const s=JSON.parse(a),p=Number(s?.takeawayToken);if(Number.isInteger(p)&&p>0)return p}catch{return null}return null},W=B.useMemo(()=>i?G():null,[i,o]),te=()=>{const t=localStorage.getItem("terra_selectedTable"),a=t?JSON.parse(t):{};let s=a.id||a._id;const p=a.number||a.tableNumber||d||T;if(!i&&!s&&p){const q=_.find(L=>String(L.number)===String(p));q&&(s=q._id)}const u=i?localStorage.getItem("terra_orderId_TAKEAWAY")||localStorage.getItem("terra_orderId")||null:localStorage.getItem("terra_orderId_DINE_IN")||localStorage.getItem("terra_orderId")||null,f=ee(),S=i?G():null;if(!i&&!s)throw new Error(n.alerts.selectTable||"Please select a valid table first so we know where to send the waiter.");if(i&&!f)throw new Error("Unable to identify takeaway cart. Please scan the takeaway QR again.");return{tableId:s,tableNumber:p,orderId:u,cartId:f,tokenNumber:S}},z=async({requestType:t,customerNotes:a})=>{const s=te(),p="https://api.terracart.in".replace(/\/$/,""),u={requestType:t,customerNotes:i&&s.tokenNumber?`[Token ${s.tokenNumber}] ${a}`:a,...s.orderId&&{orderId:s.orderId},...s.cartId&&{cartId:s.cartId},...!i&&s.tableId&&{tableId:s.tableId}},f=await fetch(`${p}/api/customer-requests`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),S=await f.json();if(!f.ok)throw new Error(S.message||"Failed to send request");return s},re=async t=>{if(!b)try{$(!0);const a=n.services[t]||t,s=await z({requestType:X(t),customerNotes:a}),p=i?s.tokenNumber?` - Token ${s.tokenNumber}`:" - Takeaway":` - Table ${s.tableNumber}`;alert(`${n.alerts.requestSentPrefix||"Request sent"}: ${a}${p}`),r(!1)}catch(a){console.error("Error sending service request:",a),alert(`Failed to send request: ${a.message}`)}finally{$(!1)}},ae=async()=>{if(!w.trim()){alert(n.alerts.emptyRequest||"Please enter your request");return}if(!b)try{$(!0);const t=await z({requestType:"assistance",customerNotes:w.trim()}),a=i?t.tokenNumber?` - Token ${t.tokenNumber}`:" - Takeaway":` - Table ${t.tableNumber}`;alert(`${n.alerts.requestSentPrefix||"Request sent"}: ${w.trim()}${a}`),k(""),r(!1)}catch(t){console.error("Error sending custom request:",t),alert(`Failed to send request: ${t.message}`)}finally{$(!1)}},ne=async()=>{if(!b)try{$(!0);const t=await z({requestType:"assistance",customerNotes:"URGENT: Call waiter immediately"}),a=i?t.tokenNumber?` (Token ${t.tokenNumber})`:" (Takeaway)":` (Table ${t.tableNumber})`;alert((n.alerts.urgentCalled||"Urgent request sent! A waiter will be with you shortly.")+a),r(!1)}catch(t){console.error("Error sending urgent request:",t),alert(`Failed to send urgent request: ${t.message}`)}finally{$(!1)}},D=()=>{try{F.current&&(F.current.stop(),F.current=null)}catch(t){console.warn("Error stopping recognition:",t)}x(!1)},se=async()=>{if(v){D();return}if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Your browser doesn't support voice input. Please type your request instead.");return}try{const t=window.SpeechRecognition||window.webkitSpeechRecognition,a=new t;F.current=a,a.continuous=!1,a.interimResults=!1,a.lang=m==="en"?"en-US":m==="hi"?"hi-IN":"en-US",a.onstart=()=>{x(!0),console.log("ðŸŽ¤ Voice recognition started")},a.onresult=async s=>{const p=s.results[0][0].transcript;console.log("ðŸ“ Transcribed:",p),k(p),x(!1),Y(!0);try{const u="http://localhost:5050".replace(/\/$/,""),f=await fetch(`${u}/parse-order-text`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:p}),signal:AbortSignal.timeout(1e4)});if(!f.ok){const q=await f.json().catch(()=>({}));throw new Error(q.error||`Backend returned ${f.status}`)}const S=await f.json();if(S.items&&S.items.length>0){const q=S.items.map(L=>`${L.quantity}x ${L.name}`).join(", ");k(q),console.log("âœ… Parsed order:",S)}else S.error&&console.warn("Backend parsing error:",S.error)}catch(u){console.error("Order parsing failed:",u),u.name==="TypeError"||u.message.includes("fetch")||u.message.includes("Failed to fetch")?alert(`âŒ Cannot connect to backend server. Please make sure Flask server is running on port 5050.

You can still type your order manually.`):u.name==="AbortError"||u.message.includes("timeout")?alert(`â±ï¸ Request timed out. The backend server may be slow or unavailable.

You can still type your order manually.`):alert(`âš ï¸ Order parsing failed: ${u.message}

You can still see your transcribed text and type manually.`)}finally{Y(!1)}},a.onerror=s=>{console.error("Voice recognition error:",s.error),x(!1),s.error==="no-speech"?alert("No speech detected. Please try again."):s.error==="not-allowed"?alert("Microphone permission denied. Please allow microphone access."):alert(n.alerts.voiceError||"Voice recognition error. Please try typing instead.")},a.onend=()=>{x(!1),F.current=null},a.start()}catch(t){console.error("Error starting voice recognition:",t),alert(n.alerts.micError||"Failed to start voice input. Please try typing instead."),x(!1)}};return o?e.jsx("div",{style:{position:"fixed",inset:0,width:"100%",maxWidth:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.75)",zIndex:1e6,display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",boxSizing:"border-box"},onClick:()=>{D(),r(!1)},children:e.jsxs("div",{style:{backgroundColor:"white",borderRadius:16,boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)",width:"100%",maxWidth:420,maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:16,borderBottom:"1px solid #e5e7eb",background:"linear-gradient(to right, #fff7ed, white)"},children:[e.jsxs("h3",{style:{fontSize:18,fontWeight:"bold",color:"#d97706",margin:0},children:[n.header," ",i?W?`- Token ${W}`:"- Takeaway":T?`- Table ${T}`:""]}),e.jsx("button",{onClick:()=>{D(),r(!1)},style:{padding:8,borderRadius:"50%",border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#6b7280"},title:"Close",children:e.jsx(oe,{size:18})})]}),e.jsx("div",{style:{padding:16,borderBottom:"1px solid #e5e7eb"},children:i?e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{fontSize:14,marginBottom:8,fontWeight:500},children:"Takeaway Assistance"}),e.jsx("div",{style:{padding:12,borderRadius:8,border:"1px solid #fde68a",backgroundColor:"#fffbeb",color:"#92400e",fontWeight:600,textAlign:"center"},children:W?`Token ${W}`:"Token will be assigned"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{fontSize:14,marginBottom:8,fontWeight:500},children:d?"Assigned Table":"Select Table:"}),d?e.jsxs("div",{style:{padding:12,borderRadius:8,border:"1px solid #dbeafe",backgroundColor:"#eff6ff",color:"#1d4ed8",fontWeight:600,textAlign:"center"},children:["Table ",d]}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:8},children:P.map(t=>e.jsx("button",{onClick:()=>{C(t),localStorage.setItem("selectedTable",t),g&&g(t)},style:{padding:8,borderRadius:6,border:"1px solid #e5e7eb",backgroundColor:T===t?"#16a34a":"white",color:T===t?"white":"#374151",cursor:"pointer",fontWeight:"500"},children:t},t))})]})}),e.jsxs("div",{style:{padding:16,overflowY:"auto",flex:1},children:[e.jsx("p",{style:{fontSize:14,color:"#6b7280",marginBottom:16,textAlign:"center",fontWeight:500},children:n.tapService}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:h.map((t,a)=>e.jsxs("button",{onClick:()=>re(t.key),disabled:b,style:{padding:12,borderRadius:8,border:"1px solid #e5e7eb",backgroundColor:"white",cursor:b?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:8,transition:"all 0.2s",boxShadow:"0 1px 3px 0 rgba(0,0,0,0.1)",opacity:b?.6:1},onMouseOver:s=>{s.currentTarget.style.borderColor="#fb923c",s.currentTarget.style.backgroundColor="#fff7ed"},onMouseOut:s=>{s.currentTarget.style.borderColor="#e5e7eb",s.currentTarget.style.backgroundColor="white"},children:[e.jsx("span",{style:{fontSize:20},children:t.icon}),e.jsx("span",{style:{fontSize:12,fontWeight:500,textAlign:"center",lineHeight:1.2,color:"#374151"},children:n.services[t.key]})]},a))}),e.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:12,padding:12,backgroundColor:"#fff7ed"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[e.jsx("label",{style:{fontSize:13,fontWeight:600,color:"#374151"},children:n.speakOrType}),e.jsx("button",{onClick:se,disabled:N,style:{padding:8,borderRadius:"9999px",border:"none",cursor:"pointer",color:"white",backgroundColor:v?"#dc2626":"#16a34a",opacity:N?.7:1},title:v?n.titleStop:n.titleStart,children:v?e.jsx(ie,{size:16}):e.jsx(le,{size:16})})]}),e.jsx("textarea",{placeholder:n.placeholder,rows:3,value:w,onChange:t=>k(t.target.value),style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #e5e7eb",outline:"none",resize:"vertical",fontSize:13,backgroundColor:"white"}}),e.jsx("button",{onClick:ae,disabled:N||b,style:{width:"100%",marginTop:10,padding:"10px 12px",borderRadius:8,fontWeight:700,fontSize:14,backgroundColor:"#f97316",color:"white",border:"none",cursor:N||b?"not-allowed":"pointer",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",opacity:N||b?.7:1},onMouseOver:t=>{t.currentTarget.style.backgroundColor="#ea580c"},onMouseOut:t=>{t.currentTarget.style.backgroundColor="#f97316"},children:n.sendButton}),v&&e.jsx("p",{style:{marginTop:8,fontSize:12,color:"#dc2626",textAlign:"right"},children:n.listening}),(N||b)&&e.jsx("p",{style:{marginTop:6,fontSize:12,color:"#6b7280",textAlign:"right"},children:b?n.sending||"Sending request...":n.processing})]}),e.jsx("button",{onClick:ne,disabled:b,style:{width:"100%",marginTop:16,padding:"12px 16px",borderRadius:8,fontWeight:"bold",fontSize:14,backgroundColor:"#dc2626",color:"white",border:"none",cursor:b?"not-allowed":"pointer",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",opacity:b?.6:1},onMouseOver:t=>{t.currentTarget.style.backgroundColor="#b91c1c"},onMouseOut:t=>{t.currentTarget.style.backgroundColor="#dc2626"},children:n.urgentButton})]}),e.jsx("div",{style:{padding:"12px 16px",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb",textAlign:"center"},children:e.jsx("p",{style:{fontSize:12,color:"#6b7280",margin:0},children:n.footer})})]})}):null}const xe={tableService:"Assistance",signName:"Talk with Hands",signMenu:"Sign Menu"},Se={tableService:"à¤®à¤¦à¤¦",signName:"à¤¹à¤¾à¤µà¤­à¤¾à¤µ à¤¸à¥‡ à¤¬à¤¾à¤¤ à¤•à¤°à¥‡à¤‚",signMenu:"à¤¸à¤¾à¤‡à¤¨ à¤®à¥‡à¤¨à¥à¤¯à¥‚"},we={tableService:"à¤®à¤¦à¤¤",signName:"à¤¹à¤¾à¤µà¤­à¤¾à¤µà¤¾à¤¨à¥‡ à¤¬à¥‹à¤²à¤¾",signMenu:"à¤¸à¤¾à¤‡à¤¨ à¤®à¥‡à¤¨à¥‚"},ke={tableService:"àª®àª¦àª¦",signName:"àª¹àª¾àªµàª­àª¾àªµàª¥à«€ àªµàª¾àª¤ àª•àª°à«‹",signMenu:"àª¸àª¾àª‡àª¨ àª®à«‡àª¨à«‚"},H={en:xe,hi:Se,mr:we,gu:ke};function ve({activeTab:o,setActiveTab:r,accessibilityMode:d}){const g=U(),m=l.useMemo(()=>{try{return localStorage.getItem("language")||"en"}catch{return"en"}},[]),n=H[m]||H.en,[y,i]=l.useState(!1),T=l.useMemo(()=>{try{const c=localStorage.getItem("terra_serviceType")||"DINE_IN";return["PICKUP","DELIVERY"].includes(c)}catch{return!1}},[]),C=l.useMemo(()=>{try{const c=localStorage.getItem("terra_selectedTable")||localStorage.getItem("tableSelection")||localStorage.getItem("tableNumber");if(!c)return"";if(c.startsWith("{")){const E=JSON.parse(c);return E?.number||E?.tableNumber||""}return c}catch{return""}},[]),R="bg-white text-black border-orange-500",j="bg-white text-black hover:bg-gray-50";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full flex border-t border-orange-500",children:[!T&&e.jsx("button",{className:`flex-1 py-2 text-xs sm:text-sm md:text-base font-medium transition-colors border-r border-orange-500 ${o==="table"?R:j}`,onClick:()=>{r("table"),i(!0)},children:n.tableService||"Assistance"}),e.jsx("button",{className:`flex-1 py-2 text-xs sm:text-sm md:text-base font-medium transition-colors ${o==="signName"?R:j}`,onClick:()=>{r("signName"),g("/sign-name")},children:n.signName||"Sign Name"})]}),e.jsx(he,{showCard:y,setShowCard:i,language:m,accessibilityMode:d,currentTable:C})]})}const J=["en","hi","mr","gu"],M="en",Q=()=>{if(typeof window>"u")return M;const o=localStorage.getItem("language")||M;return J.includes(o)?o:M},We=o=>{if(typeof window>"u")return M;const r=J.includes(o)?o:M;return localStorage.setItem("language",r),window.dispatchEvent(new CustomEvent("language-change",{detail:{language:r}})),r},Te=o=>{if(typeof window>"u")return()=>{};if(typeof o!="function")return()=>{};const r=()=>{o(Q())},d=g=>{(g.key==="language"||g.key===null)&&r()};return window.addEventListener("language-change",r),window.addEventListener("storage",d),()=>{window.removeEventListener("language-change",r),window.removeEventListener("storage",d)}},Le=[{code:"en",label:"English"},{code:"hi",label:"Hindi"},{code:"mr",label:"Marathi"},{code:"gu",label:"Gujarati"}];function Ie({showNavigationTabs:o=!0,isFixed:r=!0,onClickCart:d,cartCount:g=0}){const m=U(),n=ce(),[y,i]=l.useState(Q()),[T,C]=l.useState(!1),[R,j]=l.useState(!1),[c,E]=l.useState(""),[_,O]=l.useState(!1),[I,A]=l.useState(localStorage.getItem("accessibilityMode")==="true"),[P,h]=l.useState("table");l.useRef(null),l.useRef(null),l.useEffect(()=>{const v=()=>{A(localStorage.getItem("accessibilityMode")==="true")},x=Te(N=>{i(N)});return window.addEventListener("storage",v),window.addEventListener("language-change",v),()=>{x(),window.removeEventListener("storage",v),window.removeEventListener("language-change",v)}},[]);const w=I?"bg-black text-white border-blue-400":"bg-[#f5e3d5]/80 text-[#4a2e1f] border-[#e2c1ac]",k=r?"fixed top-0 left-0 z-[100010]":"relative";return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:`${k} w-full flex flex-col items-center shadow-md backdrop-blur-md border-b h-20 ${w}`,style:r?{zIndex:100010}:{},children:[e.jsxs("div",{className:"w-full flex items-center justify-center relative h-20",children:[n.pathname!=="/"&&e.jsx("button",{onClick:()=>m(-1),className:`absolute left-4 p-2 rounded-full transition ${I?"text-white hover:text-blue-400":"text-[#4a2e1f] hover:text-[#d86d2a]"}`,children:e.jsx(de,{size:28})}),e.jsx("img",{src:pe,alt:"Logo",className:"h-12 object-contain"}),e.jsx("div",{className:"absolute right-4 flex items-center gap-2",children:d&&e.jsx("button",{onClick:d,className:`p-2 rounded-full transition ${I?"text-white hover:text-blue-400":"text-[#4a2e1f] hover:text-[#d86d2a]"}`,"aria-label":"View Cart",children:e.jsxs("div",{className:"relative",children:[e.jsx(ue,{size:24}),g>0&&e.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-red-600 text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center",children:g})]})})})]}),o&&e.jsx(ve,{activeTab:P,setActiveTab:h,setShowCard:C,language:y,accessibilityMode:I})]}),e.jsx(ge,{children:T&&e.jsxs(e.Fragment,{children:[e.jsx(V.div,{className:"fixed inset-0 backdrop-blur-sm bg-black/30 z-[100000]",style:{zIndex:1e5},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),e.jsx(V.div,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[100001] w-full max-w-md mx-auto p-3 sm:p-4 max-h-[90vh] overflow-y-auto",style:{zIndex:100005},initial:{opacity:0,scale:.7},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.7},transition:{duration:.3}})]})})]})}const Ne="/assets/restaurant-img-mq14w4lV.jpg",ze="/assets/m1-ZFsWq4a1.png",De="/assets/m2-wlV-bwDn.png",je={loading:"Loading billing details...",fetchFailed:"âŒ Failed to fetch order.",restaurantName:"Terra Cart",table:"Table",noOrderFound:"âŒ No order found!",subtotal:"Sub-Total",tax:"Tax (5%)",total:"Total",proceedToPay:"Proceed to Pay",orderId:"Order ID",serviceType:"Service",dineIn:"Dine-In",takeaway:"Takeaway"},Ce={loading:"à¤¬à¤¿à¤²à¤¿à¤‚à¤— à¤µà¤¿à¤µà¤°à¤£ à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",fetchFailed:"âŒ à¤‘à¤°à¥à¤¡à¤° à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¤¨à¥‡ à¤®à¥‡à¤‚ à¤µà¤¿à¤«à¤²à¥¤",restaurantName:"à¤Ÿà¥‡à¤°à¤¾ à¤•à¤¾à¤°à¥à¤Ÿ",table:"à¤Ÿà¥‡à¤¬à¤²",noOrderFound:"âŒ à¤•à¥‹à¤ˆ à¤‘à¤°à¥à¤¡à¤° à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾!",subtotal:"à¤‰à¤ª-à¤¯à¥‹à¤—",tax:"à¤•à¤° (5%)",total:"à¤•à¥à¤²",proceedToPay:"à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¤°à¥‡à¤‚",orderId:"à¤‘à¤°à¥à¤¡à¤° à¤†à¤ˆà¤¡à¥€",serviceType:"à¤¸à¥‡à¤µà¤¾",dineIn:"à¤¡à¤¾à¤‡à¤¨-à¤‡à¤¨",takeaway:"à¤ªà¥ˆà¤•à¥‡à¤Ÿ"},Ee={loading:"à¤¬à¤¿à¤²à¤¿à¤‚à¤— à¤¤à¤ªà¤¶à¥€à¤² à¤²à¥‹à¤¡ à¤¹à¥‹à¤¤ à¤†à¤¹à¥‡...",fetchFailed:"âŒ à¤‘à¤°à¥à¤¡à¤° à¤®à¤¿à¤³à¤µà¤£à¥à¤¯à¤¾à¤¤ à¤…à¤¯à¤¶à¤¸à¥à¤µà¥€.",orderId:"à¤‘à¤°à¥à¤¡à¤° à¤†à¤¯à¤¡à¥€",restaurantName:"à¤Ÿà¥‡à¤°à¤¾ à¤•à¤¾à¤°à¥à¤Ÿ",table:"à¤Ÿà¥‡à¤¬à¤²",noOrderFound:"âŒ à¤‘à¤°à¥à¤¡à¤° à¤¸à¤¾à¤ªà¤¡à¤²à¤¾ à¤¨à¤¾à¤¹à¥€!",subtotal:"à¤‰à¤ª-à¤à¤•à¥‚à¤£",tax:"à¤•à¤° (5%)",total:"à¤à¤•à¥‚à¤£",proceedToPay:"à¤­à¤°à¤£à¤¾ à¤•à¤°à¤¾",serviceType:"à¤¸à¥‡à¤µà¤¾",dineIn:"à¤¡à¤¾à¤‡à¤¨-à¤‡à¤¨",takeaway:"à¤ªà¤¾à¤°à¥à¤¸à¤²"},Ae={loading:"àª¬àª¿àª²àª¿àª‚àª— àªµàª¿àª—àª¤ àª²à«‹àª¡ àª¥àªˆ àª°àª¹à«€ àª›à«‡...",fetchFailed:"âŒ àª“àª°à«àª¡àª° àª®à«‡àª³àªµàªµàª¾àª®àª¾àª‚ àª¨àª¿àª·à«àª«àª³.",orderId:"àª“àª°à«àª¡àª° àª†àªˆàª¡à«€",restaurantName:"àªŸà«‡àª°àª¾ àª•àª¾àª°à«àªŸ",table:"àªŸà«‡àª¬àª²",noOrderFound:"âŒ àª•à«‹àªˆ àª“àª°à«àª¡àª° àª®àª³à«àª¯à«‹ àª¨àª¥à«€!",subtotal:"àª‰àªªàª•à«àª²",tax:"àª•àª° (5%)",total:"àª•à«àª²",proceedToPay:"àªšà«àª•àªµàª£à«€ àª•àª°à«‹",serviceType:"àª¸à«‡àªµàª¾",dineIn:"àª¡àª¾àª‡àª¨-àª‡àª¨",takeaway:"àªªàª¾àª°à«àª¸àª²"},Pe={en:je,hi:Ce,mr:Ee,gu:Ae},$e="https://api.terracart.in".replace(/\/$/,"");function Z(o=[]){const r={};return o.forEach(d=>{(d?.items||[]).forEach(g=>{if(!g)return;const m=g.name||"Item";r[m]||(r[m]={name:m,quantity:0,returnedQuantity:0,price:g.price||0,returned:!1});const n=r[m];g.returned?(n.returnedQuantity+=Number(g.quantity)||0,n.returned=!0):n.quantity+=Number(g.quantity)||0,!n.price&&g.price&&(n.price=g.price)})}),Object.values(r)}function qe(o){const r=o.reduce((m,n)=>{const y=Number(n.price)||0,i=Number(n.quantity)||0;return m+y*i},0),d=Number((r/100).toFixed(2));return{subtotal:d,totalAmount:d}}function Re(o=[]){const r=Z(o);return qe(r)}function _e(){const o=U(),[r,d]=l.useState(null),[g,m]=l.useState(!0),[n,y]=l.useState(null),[i,T]=l.useState(localStorage.getItem("accessibilityMode")==="true"),[C,R]=l.useState(null),j=localStorage.getItem("language")||"en",c=h=>Pe[j]?.[h]||h;l.useEffect(()=>{const w=(localStorage.getItem("terra_serviceType")||"DINE_IN")==="TAKEAWAY"&&localStorage.getItem("terra_orderId_TAKEAWAY")||localStorage.getItem("terra_orderId");if(!w){d(null),y(c("noOrderFound")||"No active order."),m(!1);return}let k=!1;return(async()=>{m(!0),y(null);try{const x=await fetch(`${$e}/api/orders/${w}`);if(!x.ok)throw new Error("Failed to fetch order");const N=await x.json();k||d(N)}catch(x){k||(y(c("fetchFailed")||x.message||"Unable to load order."),d(null))}finally{k||m(!1)}})(),()=>{k=!0}},[j]);const E=()=>{if(!((localStorage.getItem("terra_serviceType")||"DINE_IN")==="TAKEAWAY"&&localStorage.getItem("terra_orderId_TAKEAWAY")||localStorage.getItem("terra_orderId"))){alert(c("noOrderFound")||"No order found");return}if(r?.status==="Paid"){alert(c("paymentCompleted")||"Payment already completed."),o("/payment");return}o("/payment")};if(g)return e.jsx("div",{className:"loading-container",children:e.jsx("p",{children:c("loading")})});if(n)return e.jsxs("div",{className:"loading-container",children:[e.jsx("p",{children:n}),e.jsx("button",{className:"proceed-button",onClick:()=>o("/menu"),children:c("returnToMenu")||"Back to menu"})]});if(!r)return e.jsxs("div",{className:"loading-container",children:[e.jsx("p",{children:c("noOrderFound")||"No active order."}),e.jsx("button",{className:"proceed-button",onClick:()=>o("/menu"),children:c("returnToMenu")||"Back to menu"})]});const _=Z(r.kotLines||[]),O=Re(r.kotLines||[]),I=r.serviceType==="TAKEAWAY",A=r.table?.number??r.tableNumber??"â€”",P=r.table?.name;return e.jsxs("div",{className:`billing-container ${i?"accessibility-mode":""}`,children:[e.jsxs("div",{className:"background-container",children:[e.jsx("img",{src:Ne,alt:c("restaurantName"),className:`background-image ${i?"accessibility-mode":""}`}),e.jsx("div",{className:`background-overlay ${i?"accessibility-mode":""}`})]}),e.jsx(Ie,{}),e.jsx("div",{className:"content-wrapper",children:e.jsxs("div",{className:`billing-card ${i?"accessibility-mode":""}`,children:[e.jsx("h1",{className:"restaurant-title",children:c("restaurantName")}),e.jsxs("h2",{className:"order-info",children:[c("orderId"),":"," ",r._id||r.id||localStorage.getItem("terra_orderId")||"N/A"]}),I&&r.takeawayToken&&e.jsx("div",{className:"order-info",style:{marginTop:"8px",marginBottom:"8px"},children:e.jsxs("span",{style:{fontWeight:"600",color:"#2563eb"},children:["Token:"," ",e.jsx("span",{style:{fontSize:"1.2em"},children:r.takeawayToken})]})}),e.jsxs("div",{className:"table-info",children:[e.jsxs("span",{children:[c("serviceType"),": ",c(I?"takeaway":"dineIn")]}),!I&&e.jsxs("span",{children:[c("table"),": ",A,P?` Â· ${P}`:""]}),I&&(r.customerName||r.customerMobile)&&e.jsxs(e.Fragment,{children:[r.customerName&&e.jsxs("span",{children:["Name: ",r.customerName]}),r.customerMobile&&e.jsxs("span",{children:["Mobile: ",r.customerMobile]})]})]}),e.jsx("div",{className:"order-items",children:_.length===0?e.jsx("div",{className:"order-item empty-state",children:c("noItems")||"No items on thiis order yet."}):_.map((h,w)=>e.jsxs("div",{className:"order-item",children:[e.jsxs("span",{children:[h.name," Ã— ",h.quantity]}),e.jsxs("span",{children:["â‚¹",((h.price||0)/100*(h.quantity||0)).toFixed(2)]})]},w))}),e.jsxs("div",{className:`totals-section ${i?"accessibility-mode":""}`,children:[e.jsxs("div",{className:"total-row subtotal",children:[e.jsx("span",{children:c("subtotal")}),e.jsxs("span",{children:["â‚¹",O.subtotal.toFixed(2)]})]}),e.jsxs("div",{className:"total-row final-total",children:[e.jsx("span",{children:c("total")}),e.jsxs("span",{children:["â‚¹",O.totalAmount.toFixed(2)]})]})]}),e.jsx("button",{onClick:E,className:`proceed-button ${i?"accessibility-mode":""}`,children:c("proceedToPay")})]})})]})}const Be=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"}));export{Be as B,Ie as H,Le as L,We as a,De as b,Q as g,ze as m,Ne as r,Te as s};
