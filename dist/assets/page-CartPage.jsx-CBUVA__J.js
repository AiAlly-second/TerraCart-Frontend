import{r as A,j as t,u as pe,f as fe,d as he,g as X,h as Z,i as ee}from"./vendor-react-D1Ov3a92.js";import{H as be}from"./page-Billing.jsx-W-Wu8IRR.js";/* empty css                          */import{A as Ie,m as te}from"./vendor-motion-DMcOTFRV.js";import"./vendor-socket-DJ_CsPWr.js";const ye=async(l,g={},i=3e4)=>{const n=new AbortController,f=setTimeout(()=>n.abort(),i);try{const h=await fetch(l,{...g,signal:n.signal});return clearTimeout(f),h}catch(h){throw clearTimeout(f),h.name==="AbortError"?new Error(`Request timeout: The server did not respond within ${i}ms. Please check your connection and try again.`):h}},se=async(l,g={},i={})=>{const{maxRetries:n=3,retryDelay:f=1e3,timeout:h=3e4,shouldRetry:x=(c,o)=>c.message?.includes("timeout")||c.message?.includes("Network error")||c.message?.includes("Failed to fetch")||c.message?.includes("CORS")?!0:c.status>=400&&c.status<500&&c.status!==429?!1:c.status>=500?!0:o<n}=i;let u,p;for(let c=0;c<=n;c++)try{const o=await ye(l,g,h);if(o.ok||o.status===423)return o;const I=new Error(`HTTP ${o.status}: ${o.statusText}`);if(I.status=o.status,I.response=o,!x(I,c))return o;if(p=o,u=I,c<n){const S=f*Math.pow(2,c);await new Promise(T=>setTimeout(T,S))}}catch(o){if(u=o,!x(o,c))throw o;if(c<n){const I=f*Math.pow(2,c);await new Promise(S=>setTimeout(S,I))}}if(p)return p;throw u||new Error("Request failed after all retries")},Te=async(l,g={},i={})=>se(l,{...g,method:"GET"},i),Se=async(l,g,i={},n={})=>se(l,{...i,method:"POST",headers:{"Content-Type":"application/json",...i.headers},body:JSON.stringify(g)},n),ae=[{name:"Mumbai Vada Pav",price:45,category:"Street Snacks",image:"https://images.unsplash.com/photo-1633432666601-1fa7f4ff64c4?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Punjabi Samosa Chaat",price:95,category:"Street Snacks",image:"https://images.unsplash.com/photo-1618512496248-0baaae45d818?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Paneer Kathi Roll",price:165,category:"Street Snacks",image:"https://images.unsplash.com/photo-1597676071890-b90e42fb3ab4?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Paneer Butter Masala",price:280,category:"North Indian Curries",image:"https://images.unsplash.com/photo-1604908177636-45e883dafe14?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Amritsari Chole",price:210,category:"North Indian Curries",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Dal Tadka",price:190,category:"North Indian Curries",image:"https://images.unsplash.com/photo-1562967916-eb82221dfb36?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Garlic Butter Naan",price:55,category:"Breads & Rice",image:"https://images.unsplash.com/photo-1548946526-f69e2424cf45?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Tandoori Roti",price:35,category:"Breads & Rice",image:"https://images.unsplash.com/photo-1525755662778-989d0524087e?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Veg Dum Biryani",price:240,category:"Breads & Rice",image:"https://images.unsplash.com/photo-1601050690597-df2411e7f1fb?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Hyderabadi Chicken 65",price:265,category:"Regional Specials",image:"https://images.unsplash.com/photo-1612874472173-62c91e1882b7?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Goan Fish Curry",price:320,category:"Regional Specials",image:"https://images.unsplash.com/photo-1512058564366-18510be2db19?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Kerala Parotta Combo",price:210,category:"Regional Specials",image:"https://images.unsplash.com/photo-1623689046244-cd827872e252?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Classic Gulab Jamun",price:110,category:"Desserts & Beverages",image:"https://images.unsplash.com/photo-1603899129807-3b5c9b35c97e?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Kulfi Falooda",price:160,category:"Desserts & Beverages",image:"https://images.unsplash.com/photo-1612874742349-e06c61a4c9b8?auto=format&fit=crop&w=800&q=80",isAvailable:!0},{name:"Masala Chaas",price:60,category:"Desserts & Beverages",image:"https://images.unsplash.com/photo-1515003197210-e0cd71810b5f?auto=format&fit=crop&w=800&q=80",isAvailable:!0}];function Ne(l,g={}){const{serviceType:i="DINE_IN",orderType:n,tableId:f,tableNumber:h,menuCatalog:x={},sessionToken:u,customerName:p,customerMobile:c,customerEmail:o,cartId:I,customerLocation:S,specialInstructions:T,selectedAddons:L=[]}=g,M=Object.entries(l).filter(([s,b])=>{const v=Number(b);return s&&s.trim()!==""&&Number.isFinite(v)&&v>0}).map(([s,b])=>{const v=(s||"").toString().trim().toLowerCase(),C=x[s]||Object.values(x).find(Y=>Y?.name?Y.name.toString().trim().toLowerCase()===v:!1);C?C.price?console.log(`[OrderUtils] Item found: "${s}", Price: ${C.price}`):console.warn(`[OrderUtils] Item found but has NO price: "${s}"`,C):console.warn(`[OrderUtils] Item not found in catalog: "${s}" (safe: "${v}")`,{catalogKeys:Object.keys(x).slice(0,10),catalogSize:Object.keys(x).length});const R=C?.price??0,D=Number(b);if(!s||typeof s!="string"||s.trim()==="")return console.warn(`[orderUtils] Invalid item name: ${s}`),null;if(!Number.isFinite(D)||D<=0)return console.warn(`[orderUtils] Invalid quantity for ${s}: ${b}`),null;if(!Number.isFinite(R)||R<0)return console.warn(`[orderUtils] Invalid price for ${s}: ${R}`),null;const F={name:s.trim(),quantity:D,price:Number(R)};return C?._id&&(F.itemId=C._id),F}).filter(s=>s!==null);if(M.length===0)throw console.error("[orderUtils] No valid items in cart after validation"),new Error("Cart is empty or contains only invalid items");let q=0,K=[];Array.isArray(L)&&L.length>0&&(K=L.map(s=>({addonId:s.addonId||s._id||s.id,name:s.name,price:Number(s.price)||0})).filter(s=>s.name),q=K.reduce((s,b)=>s+b.price,0));const W=M.reduce((s,b)=>s+b.price*b.quantity,0),G=0,z=W+q,d={serviceType:i,items:M,selectedAddons:K,subtotal:W,gst:G,totalAmount:z};return i==="DINE_IN"?(f&&(d.tableId=f),h!=null&&(d.tableNumber=String(h)),u&&typeof u=="string"&&u.trim().length>0?d.sessionToken=u.trim():i==="DINE_IN"&&console.warn("[orderUtils] DINE_IN order missing or invalid sessionToken:",{sessionToken:u,sessionTokenType:typeof u,sessionTokenLength:u?u.length:0}),d.customerName&&delete d.customerName,d.customerMobile&&delete d.customerMobile,d.customerEmail&&delete d.customerEmail,d.customerLocation&&delete d.customerLocation,d.cartId&&delete d.cartId):i==="TAKEAWAY"||i==="PICKUP"||i==="DELIVERY"?(n==="PICKUP"||n==="DELIVERY"?(d.serviceType=n==="PICKUP"?"PICKUP":"DELIVERY",d.orderType=n):d.serviceType="TAKEAWAY",p&&(d.customerName=p),c&&(d.customerMobile=c),o&&(d.customerEmail=o),S&&(d.customerLocation={latitude:S.latitude,longitude:S.longitude,address:S.address||S.fullAddress||""}),T&&T.trim()&&(d.specialInstructions=T.trim()),u&&(d.sessionToken=u),I&&(d.cartId=I)):d.tableNumber=String(h||"TAKEAWAY"),d}const B=[{id:"extraCheese",name:"Extra Cheese",price:20,icon:"ðŸ§€"},{id:"extraSauce",name:"Extra Sauce",price:10,icon:"ðŸ§´"},{id:"oregano",name:"Oregano & Chilli Flakes",price:0,icon:"ðŸŒ¶ï¸"},{id:"tissues",name:"Tissue Paper",price:0,icon:"ðŸ§»"},{id:"cutlery",name:"Disposable Cutlery",price:0,icon:"ðŸ´"}];function xe({open:l,title:g="Processing your order",steps:i=[]}){return A.useEffect(()=>{},[i]),t.jsx(Ie,{children:l&&t.jsx(te.div,{className:"process-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},"aria-live":"polite","aria-atomic":"true",children:t.jsxs(te.div,{className:"process-panel",initial:{y:30,opacity:0},animate:{y:0,opacity:1},exit:{y:30,opacity:0},role:"dialog","aria-label":g,children:[t.jsx("h3",{className:"process-title",children:g}),t.jsx("ul",{className:"process-steps",children:i.map((n,f)=>t.jsxs("li",{className:`process-step ${n.state}`,children:[t.jsxs("span",{className:"icon",children:[n.state==="done"&&t.jsx("span",{className:"tick","aria-hidden":"true"}),n.state==="active"&&t.jsx("span",{className:"dot","aria-hidden":"true"}),n.state==="error"&&t.jsx("span",{className:"cross","aria-hidden":"true"}),n.state==="pending"&&t.jsx("span",{className:"bullet","aria-hidden":"true"})]}),t.jsx("span",{className:"label",children:n.label})]},f))}),t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:"progress-fill",style:{width:`${i.filter(n=>n.state==="done").length/i.length*100}%`}})}),t.jsx("p",{className:"process-hint",children:"Please waitâ€¦ weâ€™ll take you to the summary when done."})]})})})}const $="https://api.terracart.in".replace(/\/$/,"");function Ce(l){return l?l.startsWith("http://")||l.startsWith("https://")?l:l.startsWith("/")?`${$}${l}`:`${$}/uploads/${l}`:null}async function re(l){try{const g=l?.get("cart")||l?.get("cartId");if(g)return console.log("[CartPage] getCartId - from URL params:",g),g;const i=localStorage.getItem("terra_orderType"),n=i==="PICKUP"||i==="DELIVERY",f=localStorage.getItem("terra_selectedCartId"),h=localStorage.getItem("terra_takeaway_cartId");if(n){if(f)return console.log("[CartPage] getCartId - from terra_selectedCartId:",f),f;if(h)return console.log("[CartPage] getCartId - fallback terra_takeaway_cartId:",h),h}else{if(h)return console.log("[CartPage] getCartId - from terra_takeaway_cartId:",h),h;if(f)return console.log("[CartPage] getCartId - fallback terra_selectedCartId:",f),f}const x=JSON.parse(localStorage.getItem("terra_selectedTable")||localStorage.getItem("terra_table_selection")||"{}");let u=x.cartId||x.cafeId||"",p="";if(u!=null&&u!==""){if(typeof u=="string")p=u;else if(typeof u=="object"){const o=u._id??u.id??u;p=typeof o=="string"?o:o?.toString?.()||""}}if(p)return console.log("[CartPage] getCartId - from table data:",p,"raw:",u),p;const c=l?.get("table");if(c){console.log("[CartPage] getCartId - table ID in URL, fetching cartId from API:",c);try{const o=await fetch(`${$}/api/tables/public-cart-id/${encodeURIComponent(c)}`);if(o.ok){const S=(await o.json()).cartId||"";if(S)return console.log("[CartPage] getCartId - got cartId from table API:",S),S}}catch(o){console.error("[CartPage] getCartId - failed to fetch cartId by table ID:",o)}}return console.warn("[CartPage] getCartId - no cartId found anywhere"),""}catch(g){console.error("[CartPage] getCartId error:",g)}return""}function _e(){const l=pe(),[g]=fe(),[i,n]=A.useState({}),[f,h]=A.useState(ae.map(e=>({...e,price:e.price*100}))||[]),[x,u]=A.useState(localStorage.getItem("accessibilityMode")==="true"),[p,c]=A.useState([]),[o,I]=A.useState([]),[S,T]=A.useState(!0),[L,M]=A.useState(""),[q,K]=A.useState(""),W=[{label:"Checking your order",state:"pending"},{label:"Confirming items & price",state:"pending"},{label:"Placing your order",state:"pending"},{label:"Sending to kitchen",state:"pending"},{label:"Preparing order details",state:"pending"}],[G,z]=A.useState(!1),[d,s]=A.useState(W),b=(e,a)=>s(m=>m.map((r,y)=>y===e?{...r,state:a}:r)),v=e=>new Promise(a=>setTimeout(a,e)),C={validate:1500,order:1500,beforeSend:1e3,kitchen:1500,error:2e3};A.useEffect(()=>{try{const e=JSON.parse(localStorage.getItem("terra_cart")||"{}");n(e)}catch(e){console.error("Error loading cart",e)}re(g).then(e=>{K(e),console.log("[CartPage] Using cartId:",e);const a=async r=>{try{const y=r?`${$}/api/menu/public?cartId=${r}`:`${$}/api/menu/public`,k=await fetch(y);if(k.ok){const E=await k.json(),U=[];Array.isArray(E)&&E.forEach(N=>{N.items&&U.push(...N.items)}),h([...U,...ae])}}catch(y){console.error("Failed to fetch menu",y)}},m=async(r,y)=>{T(!0);const k=y||g?.get("table")||"";if(!r&&!k){console.log("[CartPage] No cartId or tableId found, using static add-ons as fallback"),I(B),T(!1);return}try{const E=new URLSearchParams;r&&E.set("cartId",r),k&&E.set("tableId",k);const U=`${$}/api/addons/public?${E.toString()}`;console.log("[CartPage] Fetching add-ons from:",U,"cartId:",r,"tableId:",k);const N=await fetch(U);if(console.log("[CartPage] Add-ons response status:",N.status),N.ok){const _=await N.json();if(console.log("[CartPage] Add-ons response:",_),_.success===!1){console.warn("[CartPage] API returned success: false, message:",_.message),I([]),localStorage.removeItem("terra_global_addons"),T(!1);return}const w=(_.data||_||[]).map(j=>({id:(j._id||j.id||"").toString(),name:j.name||"",price:Number(j.price)||0,icon:j.icon||"âž•"}));console.log("[CartPage] Parsed add-ons list:",w),I(w),w.length>0?(localStorage.setItem("terra_global_addons",JSON.stringify(w)),console.log("[CartPage] âœ… Set",w.length,"add-ons from API:",w.map(j=>j.name))):(localStorage.removeItem("terra_global_addons"),console.warn("[CartPage] âš ï¸ No add-ons found for cartId/tableId:",r||k,"- Admin should create add-ons in Global Add-ons page"))}else{let _=`HTTP ${N.status}`;try{const w=await N.json();_=w.message||_,console.error("[CartPage] Add-ons API error response:",w)}catch{console.error("[CartPage] Add-ons fetch failed with status:",N.status,"Could not parse error")}N.status===400?(console.warn("[CartPage] Bad request (400) - cartId might be invalid. Using empty add-ons list."),I([]),localStorage.removeItem("terra_global_addons")):(console.warn("[CartPage] API failed:",_,"- Using static add-ons as fallback"),I(B),localStorage.removeItem("terra_global_addons"))}}catch(E){console.error("[CartPage] Failed to fetch add-ons (network error):",E),console.warn("[CartPage] Using static add-ons as fallback due to network error"),I(B),localStorage.removeItem("terra_global_addons")}finally{T(!1)}};a(e),m(e,g.get("table")||"")})},[g]);const R=e=>{n(e),localStorage.setItem("terra_cart",JSON.stringify(e))},D=e=>{const a=localStorage.getItem("terra_cart_addons")||"{}";let m={};try{const r=JSON.parse(a);m=Array.isArray(r)?{}:r}catch{}if(q)m[q]=e;else{localStorage.setItem("terra_cart_addons",JSON.stringify(e));return}localStorage.setItem("terra_cart_addons",JSON.stringify(m))},F=()=>{if(!q){localStorage.removeItem("terra_cart_addons");return}const e=localStorage.getItem("terra_cart_addons")||"{}";try{const a=JSON.parse(e);if(Array.isArray(a))return;delete a[q],localStorage.setItem("terra_cart_addons",JSON.stringify(a))}catch{}},Y=(e,a)=>{const m={...i},y=(m[e]||0)+a;y<=0?delete m[e]:m[e]=y,R(m)},V=()=>{window.confirm("Clear cart?")&&(R({}),c([]),F())},oe=async()=>{if(Object.keys(i).length===0)return alert("Cart is empty");D(p),s(W.map(e=>({...e,state:"pending"}))),z(!0);try{b(0,"active"),await v(C.validate),b(0,"done"),b(1,"active"),await v(C.order),b(1,"done"),b(2,"active"),await v(C.beforeSend);const e=localStorage.getItem("terra_serviceType")||"DINE_IN",a=JSON.parse(localStorage.getItem("terra_selectedTable")||"{}"),m=e==="TAKEAWAY"?localStorage.getItem("terra_orderId_TAKEAWAY"):localStorage.getItem("terra_orderId_DINE_IN")||localStorage.getItem("terra_orderId");let r="";e==="TAKEAWAY"?(r=localStorage.getItem("terra_takeaway_sessionToken"),r||(r=`TAKEAWAY-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("terra_takeaway_sessionToken",r))):(r=localStorage.getItem("terra_sessionToken"),r||(a&&a.sessionToken?(r=a.sessionToken,localStorage.setItem("terra_sessionToken",r)):(r=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("terra_sessionToken",r))));const y=JSON.parse(localStorage.getItem("terra_global_addons")||"[]"),k=Array.isArray(y)&&y.length>0?y:B,E=p.map(O=>{const H=k.find(ge=>ge.id===O);return H?{addonId:O,name:H.name,price:H.price}:null}).filter(Boolean),U=await re(g),N=Ne(i,{serviceType:e,tableId:a.id||a._id,tableNumber:a.number||a.tableNumber,menuCatalog:f,sessionToken:r,customerName:localStorage.getItem("terra_takeaway_customerName")||localStorage.getItem("terra_customerName"),customerMobile:localStorage.getItem("terra_takeaway_customerMobile")||localStorage.getItem("terra_customerMobile"),cartId:U,specialInstructions:L,selectedAddons:E});if(!N.items||N.items.length===0)throw new Error("Cart is empty or invalid items.");const _=e==="TAKEAWAY"?localStorage.getItem("terra_orderStatus_TAKEAWAY"):localStorage.getItem("terra_orderStatus_DINE_IN")||localStorage.getItem("terra_orderStatus"),w=["Paid","Cancelled","Returned","Completed","Finalized"];let j=m;m&&w.includes(_)&&(console.log("[CartPage] Previous order status is",_,"- starting new order"),j=null);const ue=j?`${$}/api/orders/${j}/kot`:`${$}/api/orders`,Q=await Se(ue,N,{headers:{"Content-Type":"application/json"}},{maxRetries:2,timeout:3e4});let P;try{const O=await Q.text();P=O?JSON.parse(O):{}}catch{P={}}if(!Q.ok){const O=P.message||P.error||"Failed to create order";throw new Error(O)}b(2,"done"),b(3,"active"),await v(C.kitchen),b(3,"done"),P._id&&(e==="TAKEAWAY"?(localStorage.setItem("terra_orderId_TAKEAWAY",P._id),localStorage.setItem("terra_orderStatus_TAKEAWAY",P.status||"Confirmed"),localStorage.setItem("terra_orderStatusUpdatedAt_TAKEAWAY",new Date().toISOString())):(localStorage.setItem("terra_orderId",P._id),localStorage.setItem("terra_orderId_DINE_IN",P._id),localStorage.setItem("terra_orderStatus",P.status||"Confirmed"),localStorage.setItem("terra_orderStatus_DINE_IN",P.status||"Confirmed"),localStorage.setItem("terra_orderStatusUpdatedAt",new Date().toISOString()),localStorage.setItem("terra_orderStatusUpdatedAt_DINE_IN",new Date().toISOString())),localStorage.removeItem("terra_cart"),n({})),l("/menu")}catch(e){console.error("Order processing failed:",e),b(2,"error"),await v(C.error),alert(`âŒ ${e.message}`),z(!1)}},ie=e=>p.filter(a=>a===e).length,ne=e=>{const a=[...p,e];c(a),D(a)},ce=e=>{const a=p.indexOf(e);if(a===-1)return;const m=p.filter((r,y)=>y!==a);c(m),D(m)},J=Object.entries(i).map(([e,a])=>{const m=f.find(r=>r.name.toLowerCase()===e.toLowerCase());return{name:e,qty:a,price:m?m.price:0,image:m?m.image||m.imageUrl:null}}).filter(e=>e.qty>0),le=J.reduce((e,a)=>e+a.price*a.qty,0),de=p.reduce((e,a)=>{const m=o.find(r=>r.id===a);return e+(m?m.price:0)},0),me=le+de;return t.jsxs("div",{className:`cart-page ${x?"accessibility-mode":""}`,children:[t.jsx(be,{accessibilityMode:x,onClickCart:()=>{},cartCount:Object.values(i).reduce((e,a)=>e+a,0)}),t.jsxs("div",{className:"cart-content",children:[t.jsxs("div",{className:"cart-header-row",children:[t.jsx("button",{onClick:()=>l("/menu"),className:"back-btn",children:t.jsx(he,{size:24})}),t.jsx("h2",{children:"Your Cart"})]}),t.jsx("div",{className:"cart-list",children:J.length===0?t.jsxs("div",{className:"empty-msg",children:["Your cart is empty. ",t.jsx("br",{}),t.jsx("span",{onClick:()=>l("/menu"),style:{color:"#fc8019",cursor:"pointer"},children:"Go to Menu"}),p.length>0&&t.jsx("div",{style:{marginTop:"10px",color:"#888",fontSize:12},children:"Add-ons are extras and can only be ordered with at least one menu item. Please add an item from the menu to place the order."})]}):J.map(e=>t.jsxs("div",{className:"cart-item-card",children:[e.image&&t.jsx("div",{className:"cart-item-image-wrap",children:t.jsx("img",{src:Ce(e.image),alt:e.name,className:"cart-item-image"})}),t.jsxs("div",{className:"item-details",children:[t.jsx("h3",{children:e.name}),t.jsxs("div",{className:"item-price",children:["â‚¹",e.price]})]}),t.jsxs("div",{className:"qty-controls",children:[t.jsx("button",{onClick:()=>Y(e.name,-1),className:"ctrl-btn",children:e.qty===1?t.jsx(X,{size:16}):t.jsx(Z,{size:18})}),t.jsx("span",{className:"qty-val",children:e.qty}),t.jsx("button",{onClick:()=>Y(e.name,1),className:"ctrl-btn",children:t.jsx(ee,{size:18})})]})]},e.name))}),J.length>0&&t.jsx("div",{className:"cart-footer",children:t.jsxs("div",{className:"cart-footer-content",children:[t.jsxs("div",{className:"total-row final-total-row",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["â‚¹",me.toFixed(2)]})]}),t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{onClick:V,className:"reset-btn",children:"Reset"}),t.jsx("button",{onClick:oe,className:"confirm-btn",children:"Confirm Order"})]})]})}),t.jsxs("div",{className:"addons-section",children:[t.jsx("h3",{children:"Customizations & Extras"}),S?t.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Loading add-ons..."}):o.length===0?t.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999",fontSize:"14px"},children:"No add-ons available"}):t.jsx("div",{className:"addons-grid",children:o.map(e=>{const a=ie(e.id);return t.jsxs("div",{className:`addon-card ${a>0?"active":""}`,children:[t.jsx("div",{className:"addon-info",children:t.jsxs("div",{className:"addon-text",children:[t.jsx("span",{className:"addon-name",children:e.name}),e.price>0&&t.jsxs("span",{className:"addon-price",children:["+â‚¹",e.price]})]})}),t.jsxs("div",{className:"addon-qty-controls",children:[t.jsx("button",{type:"button",className:"addon-ctrl-btn",onClick:()=>ce(e.id),disabled:a===0,"aria-label":`Remove one ${e.name}`,children:a===1?t.jsx(X,{size:16}):t.jsx(Z,{size:18})}),t.jsx("span",{className:"addon-qty-val",children:a}),t.jsx("button",{type:"button",className:"addon-ctrl-btn",onClick:()=>ne(e.id),"aria-label":`Add one ${e.name}`,children:t.jsx(ee,{size:18})})]})]},e.id)})})]}),t.jsxs("div",{className:"instructions-section",style:{marginTop:"20px",padding:"0 16px 20px"},children:[t.jsx("h3",{style:{fontSize:"18px",marginBottom:"10px",color:"#333"},children:"Special Instructions / Extra Items"}),t.jsx("textarea",{placeholder:"Type any extra requirements or items here...",value:L,onChange:e=>{M(e.target.value)},style:{width:"100%",minHeight:"80px",padding:"12px",borderRadius:"12px",border:"1px solid #ddd",fontSize:"14px",resize:"vertical",fontFamily:"inherit"}})]})]}),t.jsx(xe,{open:G,steps:d,title:"Processing your order"})]})}const ke=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"}));export{ke as C,xe as P,B as a,Ne as b,Te as g,ae as m,Se as p};
