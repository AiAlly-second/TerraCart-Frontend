import{u as K,r as x,j as e}from"./vendor-react-D1Ov3a92.js";import{r as Q,H as U}from"./page-Billing.jsx-CvG5gaYx.js";import{O as V}from"./page-Menu.jsx-Dd8Y3Ulc.js";import{l as z}from"./vendor-socket-DJ_CsPWr.js";/* empty css                              */import{h as G,E as J}from"./vendor-pdf-KWoZMcRy.js";import"./vendor-CB8mghnX.js";import"./vendor-motion-DMcOTFRV.js";/* empty css                         */import"./page-CartPage.jsx-BFJaz61i.js";/* empty css                          *//* empty css                          */const X={loading:"Loading order summary...",orderSummary:"Order Summary",totalItems:"Total Items:",subtotal:"Subtotal:",gst:"GST (5%):",total:"Total:",cookingInstructions:"Cooking Instructions",placeholderRequests:"Any special requests...",confirmOrder:"Confirm Order",viewBill:"View Bill",orderId:"Order ID:",tableNumber:"Table Number:",close:"Close",noOrderFound:"âŒ No order found!",fetchFailed:"âŒ Failed to fetch order summary.",restaurantName:"Terra Cart",address:`Câ€‘Square, Dindori Rd,
Opp. Akash Petrol Pump,
Kalananagar, Nashik,
Maharashtra 422004`,takeawayLabel:"Takeaway",tableLabel:"Table",serviceTypeLabel:"Service",dineInLabel:"Dine-In"},Z={loading:"à¤‘à¤°à¥à¤¡à¤° à¤¸à¤¾à¤°à¤¾à¤‚à¤¶ à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",orderSummary:"à¤‘à¤°à¥à¤¡à¤° à¤¸à¤¾à¤°à¤¾à¤‚à¤¶",totalItems:"à¤•à¥à¤² à¤µà¤¸à¥à¤¤à¥à¤à¤‚:",subtotal:"à¤‰à¤ª-à¤¯à¥‹à¤—:",gst:"à¤œà¥€à¤à¤¸à¤Ÿà¥€ (5%):",total:"à¤•à¥à¤²:",cookingInstructions:"à¤ªà¤•à¤¾à¤¨à¥‡ à¤•à¥‡ à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶",placeholderRequests:"à¤•à¥‹à¤ˆ à¤µà¤¿à¤¶à¥‡à¤· à¤…à¤¨à¥à¤°à¥‹à¤§...",confirmOrder:"à¤‘à¤°à¥à¤¡à¤° à¤•à¥€ à¤ªà¥à¤·à¥à¤Ÿà¤¿ à¤•à¤°à¥‡à¤‚",viewBill:"à¤¬à¤¿à¤² à¤¦à¥‡à¤–à¥‡à¤‚",orderId:"à¤‘à¤°à¥à¤¡à¤° à¤†à¤ˆà¤¡à¥€:",tableNumber:"à¤Ÿà¥‡à¤¬à¤² à¤¨à¤‚à¤¬à¤°:",close:"à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚",noOrderFound:"âŒ à¤•à¥‹à¤ˆ à¤‘à¤°à¥à¤¡à¤° à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾!",fetchFailed:"âŒ à¤‘à¤°à¥à¤¡à¤° à¤¸à¤¾à¤°à¤¾à¤‚à¤¶ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¤¨à¥‡ à¤®à¥‡à¤‚ à¤µà¤¿à¤«à¤²à¥¤",restaurantName:"à¤Ÿà¥‡à¤°à¤¾ à¤•à¤¾à¤°à¥à¤Ÿ",address:`à¤¸à¥€-à¤¸à¥à¤•à¥à¤µà¤¾à¤¯à¤°, à¤¦à¤¿à¤‚à¤¡à¥‹à¤°à¥€ à¤°à¥‹à¤¡,
à¤†à¤•à¤¾à¤¶ à¤ªà¥‡à¤Ÿà¥à¤°à¥‹à¤² à¤ªà¤‚à¤ª à¤•à¥‡ à¤¸à¤¾à¤®à¤¨à¥‡,
à¤•à¤²à¤¾à¤¨à¤—à¤°, à¤¨à¤¾à¤¸à¤¿à¤•,
à¤®à¤¹à¤¾à¤°à¤¾à¤·à¥à¤Ÿà¥à¤° 422004`,takeawayLabel:"à¤ªà¥ˆà¤•à¥‡à¤Ÿ",tableLabel:"à¤Ÿà¥‡à¤¬à¤²",serviceTypeLabel:"à¤¸à¥‡à¤µà¤¾",dineInLabel:"à¤¡à¤¾à¤‡à¤¨-à¤‡à¤¨"},ee={loading:"à¤‘à¤°à¥à¤¡à¤° à¤¸à¤¾à¤°à¤¾à¤‚à¤¶ à¤²à¥‹à¤¡ à¤¹à¥‹à¤¤ à¤†à¤¹à¥‡...",orderSummary:"à¤‘à¤°à¥à¤¡à¤° à¤¸à¤¾à¤°à¤¾à¤‚à¤¶",totalItems:"à¤à¤•à¥‚à¤£ à¤µà¤¸à¥à¤¤à¥‚:",subtotal:"à¤‰à¤ª-à¤à¤•à¥‚à¤£:",gst:"à¤œà¥€à¤à¤¸à¤Ÿà¥€ (5%):",total:"à¤à¤•à¥‚à¤£:",cookingInstructions:"à¤¸à¥à¤µà¤¯à¤‚à¤ªà¤¾à¤•à¤¾à¤šà¥à¤¯à¤¾ à¤¸à¥‚à¤šà¤¨à¤¾",placeholderRequests:"à¤•à¥‹à¤£à¤¤à¥€à¤¹à¥€ à¤µà¤¿à¤¶à¥‡à¤· à¤µà¤¿à¤¨à¤‚à¤¤à¥€...",confirmOrder:"à¤‘à¤°à¥à¤¡à¤° à¤¨à¤¿à¤¶à¥à¤šà¤¿à¤¤ à¤•à¤°à¤¾",viewBill:"à¤¬à¤¿à¤² à¤ªà¤¹à¤¾",orderId:"à¤‘à¤°à¥à¤¡à¤° à¤†à¤¯à¤¡à¥€:",tableNumber:"à¤Ÿà¥‡à¤¬à¤² à¤•à¥à¤°à¤®à¤¾à¤‚à¤•:",close:"à¤¬à¤‚à¤¦ à¤•à¤°à¤¾",noOrderFound:"âŒ à¤‘à¤°à¥à¤¡à¤° à¤¸à¤¾à¤ªà¤¡à¤²à¤¾ à¤¨à¤¾à¤¹à¥€!",fetchFailed:"âŒ à¤‘à¤°à¥à¤¡à¤° à¤¸à¤¾à¤°à¤¾à¤‚à¤¶ à¤†à¤£à¤£à¥à¤¯à¤¾à¤¤ à¤…à¤¯à¤¶à¤¸à¥à¤µà¥€.",restaurantName:"à¤Ÿà¥‡à¤°à¤¾ à¤•à¤¾à¤°à¥à¤Ÿ",address:`à¤¸à¥€-à¤¸à¥à¤•à¥à¤µà¥‡à¤…à¤°, à¤¦à¤¿à¤‚à¤¡à¥‹à¤°à¥€ à¤°à¥‹à¤¡,
à¤†à¤•à¤¾à¤¶ à¤ªà¥‡à¤Ÿà¥à¤°à¥‹à¤² à¤ªà¤‚à¤ª à¤¸à¤®à¥‹à¤°,
à¤•à¤²à¤¾à¤¨à¤—à¤°, à¤¨à¤¾à¤¶à¤¿à¤•,
à¤®à¤¹à¤¾à¤°à¤¾à¤·à¥à¤Ÿà¥à¤° 422004`,takeawayLabel:"à¤ªà¤¾à¤°à¥à¤¸à¤²",tableLabel:"à¤Ÿà¥‡à¤¬à¤²",serviceTypeLabel:"à¤¸à¥‡à¤µà¤¾",dineInLabel:"à¤¡à¤¾à¤‡à¤¨-à¤‡à¤¨"},re={loading:"àª“àª°à«àª¡àª° àª¸àª¾àª°àª¾àª‚àª¶ àª²à«‹àª¡ àª¥àªˆ àª°àª¹à«àª¯à«‹ àª›à«‡...",orderSummary:"àª“àª°à«àª¡àª° àª¸àª¾àª°àª¾àª‚àª¶",totalItems:"àª•à«àª² àªµàª¸à«àª¤à«àª“:",subtotal:"àª‰àªªàª•à«àª²:",gst:"àªœà«€àªàª¸àªŸà«€ (5%):",total:"àª•à«àª²:",cookingInstructions:"àª°àª¸à«‹àªˆ àª¸à«àªšàª¨àª¾àª“",placeholderRequests:"àª•à«‹àªˆ àª–àª¾àª¸ àªµàª¿àª¨àª‚àª¤à«€àª“...",confirmOrder:"àª“àª°à«àª¡àª° àªªà«àª·à«àªŸàª¿ àª•àª°à«‹",viewBill:"àª¬àª¿àª² àªœà«àª“",orderId:"àª“àª°à«àª¡àª° àª†àª‡àª¡à«€:",tableNumber:"àªŸà«‡àª¬àª² àª¨àª‚àª¬àª°:",close:"àª¬àª‚àª§ àª•àª°à«‹",noOrderFound:"âŒ àª•à«‹àªˆ àª“àª°à«àª¡àª° àª®àª³à«àª¯à«‹ àª¨àª¥à«€!",fetchFailed:"âŒ àª“àª°à«àª¡àª° àª¸àª¾àª°àª¾àª‚àª¶ àª®à«‡àª³àªµàªµàª¾àª®àª¾àª‚ àª¨àª¿àª·à«àª«àª³.",restaurantName:"àªŸà«‡àª°àª¾ àª•àª¾àª°à«àªŸ",address:`àª¸à«€-àª¸à«àª•à«àªµà«‡àª°, àª¦àª¿àª‚àª¡à«‹àª°à«€ àª°à«‹àª¡,
àª†àª•àª¾àª¶ àªªà«‡àªŸà«àª°à«‹àª² àªªàª‚àªª àª¸àª¾àª®à«‡,
àª•àª²àª¾àª¨àª—àª°, àª¨àª¾àª¸àª¿àª•,
àª®àª¹àª¾àª°àª¾àª·à«àªŸà«àª° 422004`,takeawayLabel:"àªªàª¾àª°à«àª¸àª²",tableLabel:"àªŸà«‡àª¬àª²",serviceTypeLabel:"àª¸à«‡àªµàª¾",dineInLabel:"àª¡àª¾àª‡àª¨-àª‡àª¨"},b={en:X,hi:Z,mr:ee,gu:re},P="https://api.terracart.in".replace(/\/$/,""),R=(o=[])=>{const r={};return o.forEach(d=>{(d?.items||[]).forEach(l=>{if(!l)return;const u=l.name||"Item";r[u]||(r[u]={name:u,quantity:0,returnedQuantity:0,price:l.price||0,returned:!1});const h=r[u];l.returned?(h.returnedQuantity+=Number(l.quantity)||0,h.returned=!0):h.quantity+=Number(l.quantity)||0,!h.price&&l.price&&(h.price=l.price)})}),Object.values(r)},ae=o=>{const r=o.reduce((h,w)=>{const g=Number(w.price)||0,N=Number(w.quantity)||0;return h+g*N},0),d=Number((r/100).toFixed(2));return{subtotal:d,gst:0,totalAmount:d}},se=(o=[])=>{const r=R(o);return ae(r)},te=o=>{if(!o)return"INV-NA";const r=new Date(o.createdAt||Date.now()).toISOString().slice(0,10).replace(/-/g,""),d=(o.cartId||o._id||"").toString().slice(-6).toUpperCase();return`INV-${r}-${d}`},j=o=>{const r=Number(o);return Number.isNaN(r)?"0.00":r.toFixed(2)};function je(){const o=K(),[r,d]=x.useState(null),[l,u]=x.useState(!1),[h,w]=x.useState(!1),[g,N]=x.useState(!1),k=x.useRef(null),[B]=x.useState(localStorage.getItem("accessibilityMode")==="true"),T={Pending:"ðŸ“ Order is being processed...",Accepted:"âœ… Your order has been accepted! A staff member is assisting you.",Confirmed:"ðŸ‘¨â€ðŸ³ Order confirmed! Kitchen is getting ready.",Preparing:"ðŸ”¥ Your food is being prepared","Being Prepared":"ðŸ”¥ Your food is being prepared",BeingPrepared:"ðŸ”¥ Your food is being prepared",Ready:"âœ¨ Your food is ready to be served",Completed:"ðŸ“¦ Your order is ready for pickup!",Served:"ðŸ½ï¸ Enjoy your meal!",Finalized:"ðŸ“‹ Order completed, preparing bill",Paid:"âœ… Thank you for dining with us!",Cancelled:"âŒ Order has been cancelled",Returned:"â†©ï¸ Order has been returned. Please contact staff if you need assistance."},p=localStorage.getItem("language")||"en",t=a=>b[p]?.[a]||a,O=localStorage.getItem("terra_serviceType")||"DINE_IN",f=O==="TAKEAWAY"?localStorage.getItem("terra_orderId_TAKEAWAY")||localStorage.getItem("terra_orderId"):localStorage.getItem("terra_orderId_DINE_IN")||localStorage.getItem("terra_orderId");if(console.log("[OrderSummary] Loading order:",{serviceType:O,orderId:f,fromStorage:{generic:localStorage.getItem("terra_orderId"),dineIn:localStorage.getItem("terra_orderId_DINE_IN"),takeaway:localStorage.getItem("terra_orderId_TAKEAWAY")}}),x.useEffect(()=>{if(!f)return;const a=async()=>{try{const s=await fetch(`${P}/api/orders/${f}`);if(!s.ok){if(s.status===404)return alert(b[p]?.noOrderFound||"No order found"),o("/menu"),null;throw new Error(`Failed to fetch order: ${s.status}`)}const i=await s.json();return i?(d(i),i.status==="Cancelled"||i.status==="Returned"?(localStorage.removeItem("terra_orderId"),localStorage.removeItem("terra_cart"),localStorage.removeItem("terra_orderId_TAKEAWAY"),localStorage.removeItem("terra_orderId_DINE_IN"),alert(i.status==="Returned"?"Order has been returned.":b[p]?.orderCancelled||"Order cancelled"),o("/menu"),null):i):(alert(b[p]?.noOrderFound||"No order found"),null)}catch(s){return console.error("Error fetching order:",s),alert(b[p]?.noOrderFound||"No order found"),null}},c=s=>{s?._id===f&&(d(s),(s.status==="Cancelled"||s.status==="Returned")&&(localStorage.removeItem("terra_orderId"),localStorage.removeItem("terra_cart"),localStorage.removeItem("terra_orderId_TAKEAWAY"),localStorage.removeItem("terra_orderId_DINE_IN"),alert(s.status==="Returned"?"Order has been returned.":b[p]?.orderCancelled||"Order cancelled"),o("/menu")))};let n=null;try{n=z(P,{transports:["polling","websocket"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,timeout:2e4,autoConnect:!0,forceNew:!1}),n.on("connect",()=>{console.log("[OrderSummary] Socket connected")}),a().then(s=>{s?.cartId&&n&&n.emit("join:cart",s.cartId.toString())}),n.on("connect_error",s=>{s.message&&!s.message.includes("xhr poll error")&&console.warn("[OrderSummary] Socket connection error:",s.message)}),n.on("disconnect",s=>{s!=="io client disconnect"&&console.log("[OrderSummary] Socket disconnected:",s)}),n.on("orderUpdated",c)}catch(s){console.warn("[OrderSummary] Failed to create socket connection:",s)}return()=>{n&&(n.off("orderUpdated",c),n.off("connect"),n.off("connect_error"),n.off("disconnect"),n.disconnect(),n=null)}},[f,p,o]),!r)return e.jsx("div",{className:"order-summary-page loading-screen",children:t("loading")});const y=R(r.kotLines),v=se(r.kotLines),_=y.reduce((a,c)=>a+c.quantity,0),m=r.serviceType==="TAKEAWAY",L=r.table?.number??r.tableNumber??"â€”",I=r.table?.name,C=t(m?"takeawayLabel":"dineInLabel"),F=te(r),Y=async()=>{if(!(!k.current||g)){N(!0);try{const a=await G(k.current,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",onclone:W=>{W.querySelectorAll("*").forEach(A=>{const H=window.getComputedStyle(A);["color","backgroundColor","borderColor"].forEach(S=>{const D=H[S];D&&D.includes("oklch")&&(A.style[S]="#000000",S==="backgroundColor"&&(A.style[S]="transparent"))})})}}),c=a.toDataURL("image/png"),n=80,s=4,i=n-s*2,$=a.width,E=a.height/$,M=i*E+s*2,q=new J({orientation:"portrait",unit:"mm",format:[n,M]});q.addImage(c,"PNG",s,s,i,i*E),q.save(`${F}.pdf`)}catch(a){console.error("Invoice download failed (Detailed):",a),alert(`Failed to generate PDF: ${a.message||"Unknown error"}`)}finally{N(!1)}}};return e.jsxs("div",{className:`order-summary-page ${B?"accessibility":""}`,children:[e.jsxs("div",{className:"background-container",children:[e.jsx("img",{src:Q,alt:t("restaurantName"),className:"background-image"}),e.jsx("div",{className:"background-overlay"})]}),e.jsxs("div",{className:"content-wrapper",children:[e.jsx(U,{}),e.jsx("div",{className:"main-content",children:e.jsxs("div",{className:"summary-card",children:[e.jsx("h2",{className:"summary-title",children:t("orderSummary")}),e.jsxs("div",{className:"order-meta",children:[e.jsxs("div",{className:"order-meta-row",children:[e.jsx("span",{children:t("orderId")}),e.jsx("span",{children:r._id||"â€”"})]}),m&&r.takeawayToken&&e.jsxs("div",{className:"order-meta-row",style:{backgroundColor:"#dbeafe",padding:"8px",borderRadius:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{fontWeight:"600",color:"#1e40af"},children:"Token:"}),e.jsx("span",{style:{fontSize:"1.2em",fontWeight:"bold",color:"#2563eb"},children:r.takeawayToken})]}),!m&&e.jsxs("div",{className:"order-meta-row",children:[e.jsx("span",{children:t("serviceTypeLabel")}),e.jsx("span",{children:C})]}),!m&&e.jsxs("div",{className:"order-meta-row",children:[e.jsx("span",{children:t("tableLabel")}),e.jsxs("span",{children:[L,I?` Â· ${I}`:""]})]}),m&&(r.customerName||r.customerMobile)&&e.jsxs(e.Fragment,{children:[r.customerName&&e.jsxs("div",{className:"order-meta-row",children:[e.jsx("span",{children:"Customer Name:"}),e.jsx("span",{children:r.customerName})]}),r.customerMobile&&e.jsxs("div",{className:"order-meta-row",children:[e.jsx("span",{children:"Mobile:"}),e.jsx("span",{children:r.customerMobile})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(V,{status:r.status,serviceType:r.serviceType,className:"mb-2"}),e.jsx("p",{className:"text-lg text-center font-medium text-gray-700",children:T[r.status]||T.Pending}),r.acceptedBy?.employeeName&&e.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-center",children:[e.jsxs("p",{className:"text-green-800 font-medium",children:["Your order has been accepted by ",r.acceptedBy.employeeName]}),r.acceptedBy.disability?.hasDisability&&r.acceptedBy.disability?.type&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Your server has indicated: ",r.acceptedBy.disability.type]})]})]}),e.jsx("div",{className:"items-list",children:y.map(a=>{const n=(a.price||0)/100*(a.quantity||0);return e.jsxs("div",{className:"item-row",children:[e.jsxs("span",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{children:[a.name,a.quantity>0?` Ã— ${a.quantity}`:""]}),a.returned&&e.jsxs("span",{className:"meta-chip returned-chip",children:["Returned ",a.returnedQuantity]})]}),e.jsx("span",{children:a.quantity>0?`â‚¹${j(n)}`:"Returned"})]},a.name)})}),e.jsxs("div",{className:"summary-totals",children:[e.jsxs("div",{className:"total-row",children:[e.jsx("span",{children:t("totalItems")}),e.jsx("span",{children:_})]}),e.jsxs("div",{className:"total-row",children:[e.jsx("span",{children:t("subtotal")}),e.jsxs("span",{children:["â‚¹",v.subtotal.toFixed(2)]})]}),e.jsxs("div",{className:"total-row total-bold",children:[e.jsx("span",{children:t("total")}),e.jsxs("span",{children:["â‚¹",v.totalAmount.toFixed(2)]})]})]}),e.jsxs("div",{className:"buttons-row",children:[e.jsx("button",{onClick:()=>o("/menu"),className:"primary-btn",children:t("confirmOrder")}),e.jsx("button",{onClick:()=>u(!0),className:"secondary-btn",children:t("viewBill")})]})]})})]}),l&&e.jsx("div",{className:"bill-modal-overlay",children:e.jsxs("div",{className:"bill-modal",children:[e.jsxs("div",{className:"bill-modal-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Invoice"}),e.jsxs("p",{className:"invoice-meta",children:[e.jsxs("span",{children:[t("orderId")," ",r._id]}),e.jsx("span",{children:new Date(r.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:"bill-modal-actions",children:[e.jsx("button",{onClick:Y,disabled:g,className:"invoice-action-btn download",children:g?"Preparingâ€¦":"Download"}),e.jsx("button",{onClick:()=>u(!1),className:"invoice-close-btn",children:"âœ•"})]})]}),e.jsxs("div",{ref:k,className:"invoice-preview",children:[e.jsxs("div",{className:"invoice-top",children:[e.jsxs("div",{children:[e.jsx("div",{className:"brand-name",children:r.cafe?.cafeName||r.cafe?.name||"Terra Cart"}),e.jsx("div",{className:"brand-address",children:r.cafe?.address||r.franchise?.address||"â€”"}),(r.franchise?.fssaiNumber||r.franchise?.fssai||r.cafe?.fssaiNumber||r.cafe?.fssai)&&e.jsxs("div",{className:"brand-address",children:["FSSAI No:"," ",r.franchise?.fssaiNumber||r.franchise?.fssai||r.cafe?.fssaiNumber||r.cafe?.fssai]}),(r.franchise?.gstNumber||r.cafe?.gstNumber)&&e.jsxs("div",{className:"brand-address",children:["FSSAI No:"," ",r.franchise?.gstNumber||r.cafe?.gstNumber]})]}),e.jsxs("div",{className:"invoice-meta-block",children:[e.jsxs("div",{className:"meta-line",children:[e.jsx("span",{children:"Invoice No:"}),e.jsx("span",{children:F})]}),m&&r.takeawayToken&&e.jsxs("div",{className:"meta-line",children:[e.jsx("span",{children:"Token:"}),e.jsx("span",{className:"font-bold text-blue-600",children:r.takeawayToken})]}),e.jsxs("div",{className:"meta-line",children:[e.jsx("span",{children:"Date:"}),e.jsx("span",{children:new Date(r.paidAt||r.updatedAt||r.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"meta-line",children:[e.jsx("span",{children:"Time:"}),e.jsx("span",{children:new Date(r.paidAt||r.updatedAt||r.createdAt).toLocaleTimeString()})]})]})]}),e.jsxs("div",{className:"invoice-billed",children:[!m&&e.jsxs("div",{className:"meta-line",children:[e.jsxs("span",{children:[t("serviceTypeLabel"),":"]}),e.jsx("span",{children:C})]}),!m&&e.jsxs("div",{className:"meta-line",children:[e.jsxs("span",{children:[t("tableLabel"),":"]}),e.jsxs("span",{children:[L,I?` Â· ${I}`:""]})]}),m&&(r.customerName||r.customerMobile)&&e.jsxs(e.Fragment,{children:[r.customerName&&e.jsxs("div",{className:"meta-line",children:[e.jsx("span",{children:"Customer Name:"}),e.jsx("span",{children:r.customerName})]}),r.customerMobile&&e.jsxs("div",{className:"meta-line",children:[e.jsx("span",{children:"Mobile Number:"}),e.jsx("span",{children:r.customerMobile})]})]})]}),e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:t("itemHeader")||"Item"}),e.jsx("th",{children:t("quantityHeader")||"Qty"}),e.jsx("th",{children:t("priceHeader")||"Price (â‚¹)"}),e.jsx("th",{className:"align-right",children:t("amountHeader")||"Amount (â‚¹)"})]})}),e.jsx("tbody",{children:y.length>0?y.map(a=>{const c=(a.price||0)/100,n=c*(a.quantity||0);return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{children:a.name}),a.returned&&e.jsxs("span",{className:"invoice-returned-note",children:["Returned ",a.returnedQuantity]})]})}),e.jsx("td",{children:a.quantity>0?a.quantity:"â€”"}),e.jsxs("td",{children:["â‚¹",j(c)]}),e.jsx("td",{className:"align-right",children:a.quantity>0?`â‚¹${j(n)}`:"Returned"})]},a.name)}):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"empty-row",children:"No items found"})})})]}),e.jsxs("div",{className:"invoice-totals",children:[e.jsxs("div",{className:"meta-line",children:[e.jsx("span",{children:t("totalItems")}),e.jsx("span",{children:_})]}),e.jsxs("div",{className:"meta-line",children:[e.jsx("span",{children:t("subtotal")}),e.jsxs("span",{children:["â‚¹",j(v.subtotal)]})]}),e.jsxs("div",{className:"meta-line total",children:[e.jsx("span",{children:t("total")}),e.jsxs("span",{children:["â‚¹",j(v.totalAmount)]})]})]}),e.jsx("div",{className:"invoice-footer",children:"Thank you for dining with Terra Cart. We hope to see you again!"})]})]})})]})}export{je as default};
