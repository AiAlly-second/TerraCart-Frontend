import{r as d,j as t,o as Ke,p as Je,q as qe,u as ze}from"./vendor-react-D1Ov3a92.js";import{l as _e}from"./vendor-socket-DJ_CsPWr.js";import{H as Qe,r as Ge}from"./page-Billing.jsx-W-Wu8IRR.js";import{b as He}from"./page-Landing.jsx-Yx3tTBOm.js";/* empty css                            */import{m as Xe}from"./vendor-motion-DMcOTFRV.js";const Ze={dineIn:"Dine-In",takeAway:"Takeaway",toggleAccessibility:"Toggle Accessibility Mode",waitlistTitle:"Table is currently occupied",waitlistDescription:"The table is busy right now. Join the waitlist and we will notify you when it's ready.",waitlistJoin:"Join Waitlist",waitlistJoining:"Joining...",waitlistNotNow:"Maybe later",waitlistActiveTitle:"You are on the waitlist",waitlistStatusLabel:"Status",waitlistStatusWaiting:"Waiting",waitlistStatusNotified:"Ready for you",waitlistStatusSeated:"Seated",waitlistStatusCancelled:"Cancelled",waitlistPosition:"Your position: {position}",waitlistInstructions:"Please stay nearby. We will alert you once the table is ready.",waitlistReadyButton:"I'm here",waitlistCancel:"Leave waitlist",waitlistRefresh:"Refresh status",waitlistLeaveConfirm:"Leave the waitlist?",waitlistLoading:"Checking your waitlist status...",waitlistQueueCount:"People waiting: {count}",waitlistPartyLabel:"Party of {size}",waitlistMoreCount:"+ {count} more waiting",customerInfoTitle:"Customer Information (Required)",customerInfoDescTakeaway:"Please provide your details for the takeaway order. Name and mobile number are required.",customerInfoDescPickup:"Please provide your details for the pickup order. Name and mobile number are required.",customerInfoDescDelivery:"Please provide your details for the delivery order. Name and mobile number are required.",chooseOrderType:"Choose Order Type",pickupOption:"Pickup",pickupDesc:"Order and collect from store",deliveryOption:"Delivery",deliveryDesc:"Get your order delivered",nameLabel:"Name (Required)",namePlaceholder:"Enter your name",mobileLabel:"Mobile Number (Required)",mobilePlaceholder:"Enter mobile number",emailLabel:"Email (Optional)",emailPlaceholder:"Enter email address",specialInstructionsLabel:"Special Instructions (Optional)",specialInstructionsPlaceholder:"e.g., No onion, Urgent pickup, Leave at door",continueButton:"Continue"},et={dineIn:"à¤°à¥‡à¤¸à¥à¤Ÿà¥‹à¤°à¥‡à¤‚à¤Ÿ à¤®à¥‡à¤‚ à¤–à¤¾à¤¨à¤¾",takeAway:"à¤ªà¤¾à¤°à¥à¤¸à¤² à¤²à¥‡à¤‚",toggleAccessibility:"à¤¸à¥à¤—à¤®à¥à¤¯à¤¤à¤¾ à¤®à¥‹à¤¡ à¤¬à¤¦à¤²à¥‡à¤‚",waitlistTitle:"à¤Ÿà¥‡à¤¬à¤² à¤µà¤°à¥à¤¤à¤®à¤¾à¤¨ à¤®à¥‡à¤‚ à¤µà¥à¤¯à¤¸à¥à¤¤ à¤¹à¥ˆ",waitlistDescription:"à¤Ÿà¥‡à¤¬à¤² à¤…à¤­à¥€ à¤µà¥à¤¯à¤¸à¥à¤¤ à¤¹à¥ˆà¥¤ à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¸à¥‚à¤šà¥€ à¤®à¥‡à¤‚ à¤œà¥à¤¡à¤¼à¥‡à¤‚ à¤”à¤° à¤¤à¥ˆà¤¯à¤¾à¤° à¤¹à¥‹à¤¨à¥‡ à¤ªà¤° à¤¸à¥‚à¤šà¤¨à¤¾ à¤®à¤¿à¤²à¥‡à¤—à¥€à¥¤",waitlistJoin:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¸à¥‚à¤šà¥€ à¤®à¥‡à¤‚ à¤œà¥à¤¡à¤¼à¥‡à¤‚",waitlistJoining:"à¤œà¥à¤¡à¤¼ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",waitlistNotNow:"à¤¬à¤¾à¤¦ à¤®à¥‡à¤‚",waitlistActiveTitle:"à¤†à¤ª à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¸à¥‚à¤šà¥€ à¤®à¥‡à¤‚ à¤¹à¥ˆà¤‚",waitlistStatusLabel:"à¤¸à¥à¤¥à¤¿à¤¤à¤¿",waitlistStatusWaiting:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤®à¥‡à¤‚",waitlistStatusNotified:"à¤†à¤ªà¤•à¥‡ à¤²à¤¿à¤ à¤¤à¥ˆà¤¯à¤¾à¤°",waitlistStatusSeated:"à¤¬à¥ˆà¤  à¤šà¥à¤•à¥‡",waitlistStatusCancelled:"à¤°à¤¦à¥à¤¦",waitlistPosition:"à¤†à¤ªà¤•à¥€ à¤¸à¥à¤¥à¤¿à¤¤à¤¿: {position}",waitlistInstructions:"à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¤¾à¤¸ à¤¹à¥€ à¤°à¤¹à¥‡à¤‚à¥¤ à¤Ÿà¥‡à¤¬à¤² à¤¤à¥ˆà¤¯à¤¾à¤° à¤¹à¥‹à¤¤à¥‡ à¤¹à¥€ à¤¸à¥‚à¤šà¤¨à¤¾ à¤®à¤¿à¤²à¥‡à¤—à¥€à¥¤",waitlistReadyButton:"à¤®à¥ˆà¤‚ à¤¯à¤¹à¤¾à¤‚ à¤¹à¥‚à¤",waitlistCancel:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¸à¥‚à¤šà¥€ à¤›à¥‹à¤¡à¤¼à¥‡à¤‚",waitlistRefresh:"à¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤¤à¤¾à¤œà¤¼à¤¾ à¤•à¤°à¥‡à¤‚",waitlistLeaveConfirm:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¸à¥‚à¤šà¥€ à¤›à¥‹à¤¡à¤¼à¥‡à¤‚?",waitlistLoading:"à¤†à¤ªà¤•à¥€ à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤œà¤¾à¤‚à¤šà¥€ à¤œà¤¾ à¤°à¤¹à¥€ à¤¹à¥ˆ...",waitlistQueueCount:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤•à¤° à¤°à¤¹à¥‡ à¤²à¥‹à¤—: {count}",waitlistPartyLabel:"{size} à¤²à¥‹à¤—à¥‹à¤‚ à¤•à¤¾ à¤¸à¤®à¥‚à¤¹",waitlistMoreCount:"à¤…à¤¤à¤¿à¤°à¤¿à¤•à¥à¤¤ {count} à¤²à¥‹à¤— à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤®à¥‡à¤‚",customerInfoTitle:"à¤—à¥à¤°à¤¾à¤¹à¤• à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€ (à¤…à¤¨à¤¿à¤µà¤¾à¤°à¥à¤¯)",customerInfoDescTakeaway:"à¤ªà¤¾à¤°à¥à¤¸à¤² à¤‘à¤°à¥à¤¡à¤° à¤•à¥‡ à¤²à¤¿à¤ à¤…à¤ªà¤¨à¤¾ à¤µà¤¿à¤µà¤°à¤£ à¤¦à¥‡à¤‚à¥¤ à¤¨à¤¾à¤® à¤”à¤° à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° à¤…à¤¨à¤¿à¤µà¤¾à¤°à¥à¤¯ à¤¹à¥ˆà¥¤",customerInfoDescPickup:"à¤ªà¤¿à¤•à¤…à¤ª à¤‘à¤°à¥à¤¡à¤° à¤•à¥‡ à¤²à¤¿à¤ à¤…à¤ªà¤¨à¤¾ à¤µà¤¿à¤µà¤°à¤£ à¤¦à¥‡à¤‚à¥¤ à¤¨à¤¾à¤® à¤”à¤° à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° à¤…à¤¨à¤¿à¤µà¤¾à¤°à¥à¤¯ à¤¹à¥ˆà¥¤",customerInfoDescDelivery:"à¤¡à¤¿à¤²à¥€à¤µà¤°à¥€ à¤‘à¤°à¥à¤¡à¤° à¤•à¥‡ à¤²à¤¿à¤ à¤…à¤ªà¤¨à¤¾ à¤µà¤¿à¤µà¤°à¤£ à¤¦à¥‡à¤‚à¥¤ à¤¨à¤¾à¤® à¤”à¤° à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° à¤…à¤¨à¤¿à¤µà¤¾à¤°à¥à¤¯ à¤¹à¥ˆà¥¤",chooseOrderType:"à¤‘à¤°à¥à¤¡à¤° à¤•à¤¾ à¤ªà¥à¤°à¤•à¤¾à¤° à¤šà¥à¤¨à¥‡à¤‚",pickupOption:"à¤ªà¤¿à¤•à¤…à¤ª",pickupDesc:"à¤¦à¥à¤•à¤¾à¤¨ à¤¸à¥‡ à¤‘à¤°à¥à¤¡à¤° à¤•à¤²à¥‡à¤•à¥à¤Ÿ à¤•à¤°à¥‡à¤‚",deliveryOption:"à¤¡à¤¿à¤²à¥€à¤µà¤°à¥€",deliveryDesc:"à¤…à¤ªà¤¨à¤¾ à¤‘à¤°à¥à¤¡à¤° à¤¡à¤¿à¤²à¥€à¤µà¤° à¤•à¤°à¤µà¤¾à¤à¤‚",nameLabel:"à¤¨à¤¾à¤® (à¤…à¤¨à¤¿à¤µà¤¾à¤°à¥à¤¯)",namePlaceholder:"à¤…à¤ªà¤¨à¤¾ à¤¨à¤¾à¤® à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",mobileLabel:"à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° (à¤…à¤¨à¤¿à¤µà¤¾à¤°à¥à¤¯)",mobilePlaceholder:"à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",emailLabel:"à¤ˆà¤®à¥‡à¤² (à¤µà¥ˆà¤•à¤²à¥à¤ªà¤¿à¤•)",emailPlaceholder:"à¤ˆà¤®à¥‡à¤² à¤ªà¤¤à¤¾ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",specialInstructionsLabel:"à¤µà¤¿à¤¶à¥‡à¤· à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶ (à¤µà¥ˆà¤•à¤²à¥à¤ªà¤¿à¤•)",specialInstructionsPlaceholder:"à¤œà¥ˆà¤¸à¥‡: à¤ªà¥à¤¯à¤¾à¤œ à¤¨à¤¹à¥€à¤‚, à¤¤à¥à¤°à¤‚à¤¤ à¤ªà¤¿à¤•à¤…à¤ª, à¤¦à¤°à¤µà¤¾à¤œà¥‡ à¤ªà¤° à¤›à¥‹à¤¡à¤¼à¥‡à¤‚",continueButton:"à¤œà¤¾à¤°à¥€ à¤°à¤–à¥‡à¤‚"},tt={dineIn:"à¤°à¥‡à¤¸à¥à¤Ÿà¥‰à¤°à¤‚à¤Ÿà¤®à¤§à¥à¤¯à¥‡ à¤œà¥‡à¤µà¤£",takeAway:"à¤ªà¤¾à¤°à¥à¤¸à¤² à¤˜à¥à¤¯à¤¾",toggleAccessibility:"à¥²à¤•à¥à¤¸à¥‡à¤¸à¤¿à¤¬à¤¿à¤²à¤¿à¤Ÿà¥€ à¤®à¥‹à¤¡ à¤¬à¤¦à¤²à¤¾",waitlistTitle:"à¤Ÿà¥‡à¤¬à¤² à¤¸à¤§à¥à¤¯à¤¾ à¤µà¥à¤¯à¤¸à¥à¤¤ à¤†à¤¹à¥‡",waitlistDescription:"à¤Ÿà¥‡à¤¬à¤² à¤¸à¤§à¥à¤¯à¤¾ à¤µà¥à¤¯à¤¸à¥à¤¤ à¤†à¤¹à¥‡. à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¯à¤¾à¤¦à¥€à¤¤ à¤¸à¤¾à¤®à¥€à¤² à¤µà¥à¤¹à¤¾; à¤¤à¤¯à¤¾à¤° à¤à¤¾à¤²à¥à¤¯à¤¾à¤µà¤° à¤¸à¥‚à¤šà¤¨à¤¾ à¤®à¤¿à¤³à¥‡à¤².",waitlistJoin:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¯à¤¾à¤¦à¥€à¤¤ à¤¸à¤¾à¤®à¥€à¤² à¤µà¥à¤¹à¤¾",waitlistJoining:"à¤œà¥‹à¤¡à¤¤ à¤†à¤¹à¥‡...",waitlistNotNow:"à¤¨à¤‚à¤¤à¤°",waitlistActiveTitle:"à¤†à¤ªà¤£ à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¯à¤¾à¤¦à¥€à¤¤ à¤†à¤¹à¤¾à¤¤",waitlistStatusLabel:"à¤¸à¥à¤¥à¤¿à¤¤à¥€",waitlistStatusWaiting:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾",waitlistStatusNotified:"à¤†à¤ªà¤²à¥à¤¯à¤¾à¤¸à¤¾à¤ à¥€ à¤¤à¤¯à¤¾à¤°",waitlistStatusSeated:"à¤†à¤¸à¤¨ à¤®à¤¿à¤³à¤¾à¤²à¥‡",waitlistStatusCancelled:"à¤°à¤¦à¥à¤¦",waitlistPosition:"à¤†à¤ªà¤²à¥€ à¤¸à¥à¤¥à¤¿à¤¤à¥€: {position}",waitlistInstructions:"à¤•à¥ƒà¤ªà¤¯à¤¾ à¤œà¤µà¤³à¤š à¤¥à¤¾à¤‚à¤¬à¤¾. à¤Ÿà¥‡à¤¬à¤² à¤¤à¤¯à¤¾à¤° à¤¹à¥‹à¤¤à¤¾à¤š à¤¸à¥‚à¤šà¤¨à¤¾ à¤¦à¤¿à¤²à¥€ à¤œà¤¾à¤ˆà¤².",waitlistReadyButton:"à¤®à¥€ à¤¯à¥‡à¤¥à¥‡ à¤†à¤¹à¥‡",waitlistCancel:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¯à¤¾à¤¦à¥€ à¤¸à¥‹à¤¡à¤¾",waitlistRefresh:"à¤¸à¥à¤¥à¤¿à¤¤à¥€ à¤¤à¤¾à¤œà¥€ à¤•à¤°à¤¾",waitlistLeaveConfirm:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¯à¤¾à¤¦à¥€ à¤¸à¥‹à¤¡à¤¾à¤¯à¤šà¥€?",waitlistLoading:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤¸à¥à¤¥à¤¿à¤¤à¥€ à¤¤à¤ªà¤¾à¤¸à¤¤ à¤†à¤¹à¥‹à¤¤...",waitlistQueueCount:"à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¥‡à¤¤ à¤²à¥‹à¤•: {count}",waitlistPartyLabel:"{size} à¤œà¤£à¤¾à¤‚à¤šà¤¾ à¤—à¤Ÿ",waitlistMoreCount:"à¤†à¤£à¤–à¥€ {count} à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¥‡à¤¤",customerInfoTitle:"à¤—à¥à¤°à¤¾à¤¹à¤• à¤®à¤¾à¤¹à¤¿à¤¤à¥€ (à¤†à¤µà¤¶à¥à¤¯à¤•)",customerInfoDescTakeaway:"à¤ªà¤¾à¤°à¥à¤¸à¤² à¤‘à¤°à¥à¤¡à¤°à¤¸à¤¾à¤ à¥€ à¤¤à¥à¤®à¤šà¤¾ à¤¤à¤ªà¤¶à¥€à¤² à¤¦à¥à¤¯à¤¾. à¤¨à¤¾à¤µ à¤†à¤£à¤¿ à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° à¤†à¤µà¤¶à¥à¤¯à¤• à¤†à¤¹à¥‡.",customerInfoDescPickup:"à¤ªà¤¿à¤•à¤…à¤ª à¤‘à¤°à¥à¤¡à¤°à¤¸à¤¾à¤ à¥€ à¤¤à¥à¤®à¤šà¤¾ à¤¤à¤ªà¤¶à¥€à¤² à¤¦à¥à¤¯à¤¾. à¤¨à¤¾à¤µ à¤†à¤£à¤¿ à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° à¤†à¤µà¤¶à¥à¤¯à¤• à¤†à¤¹à¥‡.",customerInfoDescDelivery:"à¤¡à¤¿à¤²à¤¿à¤µà¥à¤¹à¤°à¥€ à¤‘à¤°à¥à¤¡à¤°à¤¸à¤¾à¤ à¥€ à¤¤à¥à¤®à¤šà¤¾ à¤¤à¤ªà¤¶à¥€à¤² à¤¦à¥à¤¯à¤¾. à¤¨à¤¾à¤µ à¤†à¤£à¤¿ à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° à¤†à¤µà¤¶à¥à¤¯à¤• à¤†à¤¹à¥‡.",chooseOrderType:"à¤‘à¤°à¥à¤¡à¤° à¤ªà¥à¤°à¤•à¤¾à¤° à¤¨à¤¿à¤µà¤¡à¤¾",pickupOption:"à¤ªà¤¿à¤•à¤…à¤ª",pickupDesc:"à¤¦à¥à¤•à¤¾à¤¨à¤¾à¤¤à¥‚à¤¨ à¤‘à¤°à¥à¤¡à¤° à¤˜à¥à¤¯à¤¾",deliveryOption:"à¤¡à¤¿à¤²à¤¿à¤µà¥à¤¹à¤°à¥€",deliveryDesc:"à¤¤à¥à¤®à¤šà¥€ à¤‘à¤°à¥à¤¡à¤° à¤˜à¤°à¤ªà¥‹à¤š à¤®à¤¿à¤³à¤µà¤¾",nameLabel:"à¤¨à¤¾à¤µ (à¤†à¤µà¤¶à¥à¤¯à¤•)",namePlaceholder:"à¤¤à¥à¤®à¤šà¥‡ à¤¨à¤¾à¤µ à¤Ÿà¤¾à¤•à¤¾",mobileLabel:"à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° (à¤†à¤µà¤¶à¥à¤¯à¤•)",mobilePlaceholder:"à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° à¤Ÿà¤¾à¤•à¤¾",emailLabel:"à¤ˆà¤®à¥‡à¤² (à¤ªà¤°à¥à¤¯à¤¾à¤¯à¥€)",emailPlaceholder:"à¤ˆà¤®à¥‡à¤² à¤ªà¤¤à¥à¤¤à¤¾ à¤Ÿà¤¾à¤•à¤¾",specialInstructionsLabel:"à¤µà¤¿à¤¶à¥‡à¤· à¤¸à¥‚à¤šà¤¨à¤¾ (à¤ªà¤°à¥à¤¯à¤¾à¤¯à¥€)",specialInstructionsPlaceholder:"à¤‰à¤¦à¤¾. à¤•à¤¾à¤‚à¤¦à¤¾ à¤¨à¤•à¥‹, à¤…à¤°à¥à¤œà¤‚à¤Ÿ à¤ªà¤¿à¤•à¤…à¤ª, à¤¦à¤¾à¤°à¤¾à¤¤ à¤ à¥‡à¤µà¤¾",continueButton:"à¤ªà¥à¤¢à¥‡ à¤šà¤²à¤¾"},at={dineIn:"àª°à«‡àª¸à«àªŸà«‹àª°àª¨à«àªŸàª®àª¾àª‚ àª­à«‹àªœàª¨",takeAway:"àªªàª¾àª°à«àª¸àª² àª²à«‹",toggleAccessibility:"àªàª•à«àª¸à«‡àª¸àª¿àª¬àª¿àª²àª¿àªŸà«€ àª®à«‹àª¡ àª¬àª¦àª²à«‹",waitlistTitle:"àªŸà«‡àª¬àª² àª¹àª¾àª²àª®àª¾àª‚ àªµà«àª¯àª¸à«àª¤ àª›à«‡",waitlistDescription:"àªŸà«‡àª¬àª² àª¹àª¾àª²àª®àª¾àª‚ àªµà«àª¯àª¸à«àª¤ àª›à«‡. àª°àª¾àª¹ àª¸à«‚àªšà«€àª®àª¾àª‚ àªœà«‹àª¡àª¾àª“; àª¤à«ˆàª¯àª¾àª° àª¥àª¤àª¾àª¨à«€ àª¸àª¾àª¥à«‡ àª¤àª®àª¨à«‡ àªœàª¾àª£ àª•àª°à«€àª¶à«àª‚.",waitlistJoin:"àªµà«‡àªŸàª²àª¿àª¸à«àªŸàª®àª¾àª‚ àªœà«‹àª¡àª¾àª“",waitlistJoining:"àªœà«‹àª¡àª¾àªˆ àª°àª¹à«àª¯à«àª‚ àª›à«‡...",waitlistNotNow:"àªªàª›à«€",waitlistActiveTitle:"àª¤àª®à«‡ àªµà«‡àªŸàª²àª¿àª¸à«àªŸàª®àª¾àª‚ àª›à«‹",waitlistStatusLabel:"àª¸à«àª¥àª¿àª¤àª¿",waitlistStatusWaiting:"àª°àª¾àª¹àª®àª¾àª‚",waitlistStatusNotified:"àª¤àª®àª¾àª°àª¾ àª®àª¾àªŸà«‡ àª¤à«ˆàª¯àª¾àª°",waitlistStatusSeated:"àª¬à«‡àª à«‡àª²àª¾",waitlistStatusCancelled:"àª°àª¦",waitlistPosition:"àª¤àª®àª¾àª°à«€ àª¸à«àª¥àª¿àª¤àª¿: {position}",waitlistInstructions:"àª•à«ƒàªªàª¾ àª•àª°à«€àª¨à«‡ àª¨àªœà«€àª• àªœ àª°àª¹à«‹. àªŸà«‡àª¬àª² àª¤à«ˆàª¯àª¾àª° àª¥àª¤àª¾ àªœ àªœàª¾àª£ àª•àª°àªµàª¾àª®àª¾àª‚ àª†àªµàª¶à«‡.",waitlistReadyButton:"àª¹à«àª‚ àª†àªµà«€ àª—àª¯à«‹ àª›à«àª‚",waitlistCancel:"àªµà«‡àªŸàª²àª¿àª¸à«àªŸ àª›à«‹àª¡à«‹",waitlistRefresh:"àª¸à«àª¥àª¿àª¤àª¿ àª¤àª¾àªœà«€ àª•àª°à«‹",waitlistLeaveConfirm:"àªµà«‡àªŸàª²àª¿àª¸à«àªŸ àª›à«‹àª¡àªµà«àª‚ àª›à«‡?",waitlistLoading:"àª¤àª®àª¾àª°à«€ àªµà«‡àªŸàª²àª¿àª¸à«àªŸ àª¸à«àª¥àª¿àª¤àª¿ àª¤àªªàª¾àª¸à«€ àª°àª¹à«àª¯àª¾ àª›à«€àª...",waitlistQueueCount:"àª°àª¾àª¹àª®àª¾àª‚ àª²à«‹àª•à«‹: {count}",waitlistPartyLabel:"{size} àª²à«‹àª•à«‹àª¨à«‹ àª¸àª®à«‚àª¹",waitlistMoreCount:"àªµàª§à« {count} àª°àª¾àª¹àª®àª¾àª‚",customerInfoTitle:"àª—à«àª°àª¾àª¹àª• àª®àª¾àª¹àª¿àª¤à«€ (àª«àª°àªœàª¿àª¯àª¾àª¤)",customerInfoDescTakeaway:"àªªàª¾àª°à«àª¸àª² àª®àª¾àªŸà«‡ àª¤àª®àª¾àª°à«€ àªµàª¿àª—àª¤à«‹ àª†àªªà«‹. àª¨àª¾àª® àª…àª¨à«‡ àª®à«‹àª¬àª¾àªˆàª² àª¨àª‚àª¬àª° àª«àª°àªœàª¿àª¯àª¾àª¤ àª›à«‡.",customerInfoDescPickup:"àªªàª¿àª•àª…àªª àª“àª°à«àª¡àª° àª®àª¾àªŸà«‡ àª¤àª®àª¾àª°à«€ àªµàª¿àª—àª¤à«‹ àª†àªªà«‹. àª¨àª¾àª® àª…àª¨à«‡ àª®à«‹àª¬àª¾àªˆàª² àª¨àª‚àª¬àª° àª«àª°àªœàª¿àª¯àª¾àª¤ àª›à«‡.",customerInfoDescDelivery:"àª¡àª¿àª²àª¿àªµàª°à«€ àª“àª°à«àª¡àª° àª®àª¾àªŸà«‡ àª¤àª®àª¾àª°à«€ àªµàª¿àª—àª¤à«‹ àª†àªªà«‹. àª¨àª¾àª® àª…àª¨à«‡ àª®à«‹àª¬àª¾àªˆàª² àª¨àª‚àª¬àª° àª«àª°àªœàª¿àª¯àª¾àª¤ àª›à«‡.",chooseOrderType:"àª“àª°à«àª¡àª° àªªà«àª°àª•àª¾àª° àªªàª¸àª‚àª¦ àª•àª°à«‹",pickupOption:"àªªàª¿àª•àª…àªª",pickupDesc:"àª¦à«àª•àª¾àª¨àª®àª¾àª‚àª¥à«€ àª“àª°à«àª¡àª° àª®à«‡àª³àªµà«‹",deliveryOption:"àª¡àª¿àª²àª¿àªµàª°à«€",deliveryDesc:"àª¤àª®àª¾àª°à«‹ àª“àª°à«àª¡àª° àª˜àª°à«‡ àª®àª—àª¾àªµà«‹",nameLabel:"àª¨àª¾àª® (àª«àª°àªœàª¿àª¯àª¾àª¤)",namePlaceholder:"àª¤àª®àª¾àª°à«àª‚ àª¨àª¾àª® àª²àª–à«‹",mobileLabel:"àª®à«‹àª¬àª¾àª‡àª² àª¨àª‚àª¬àª° (àª«àª°àªœàª¿àª¯àª¾àª¤)",mobilePlaceholder:"àª®à«‹àª¬àª¾àª‡àª² àª¨àª‚àª¬àª° àª²àª–à«‹",emailLabel:"àª‡àª®à«‡àª‡àª² (àªµà«ˆàª•àª²à«àªªàª¿àª•)",emailPlaceholder:"àª‡àª®à«‡àª‡àª² àª¸àª°àª¨àª¾àª®à«àª‚ àª²àª–à«‹",specialInstructionsLabel:"àª–àª¾àª¸ àª¸à«‚àªšàª¨àª¾àª“ (àªµà«ˆàª•àª²à«àªªàª¿àª•)",specialInstructionsPlaceholder:"àªœà«‡àª® àª•à«‡, àª¡à«àª‚àª—àª³à«€ àª¨àª¥à«€ àªœà«‹àªˆàª¤à«€, àª¤àª¾àª¤à«àª•àª¾àª²àª¿àª• àªªàª¿àª•àª…àªª",continueButton:"àªšàª¾àª²à« àª°àª¾àª–à«‹"},ot={en:Ze,hi:et,mr:tt,gu:at};function rt(){const h=d.useRef(null),R=d.useRef(!1),x={en:{speechLang:"en-US",recognitionLang:"en-IN",voiceSearch:"en"},hi:{speechLang:"hi-IN",recognitionLang:"hi-IN",voiceSearch:"hi"},mr:{speechLang:"hi-IN",recognitionLang:"hi-IN",voiceSearch:"hi"},gu:{speechLang:"hi-IN",recognitionLang:"gu-IN",voiceSearch:"hi"}},U=()=>{if(!R.current){console.log("ðŸš€ Initializing speech synthesis...");const _=new SpeechSynthesisUtterance("");_.volume=0,window.speechSynthesis.speak(_),R.current=!0}},V=_=>{const c=window.speechSynthesis.getVoices(),N=x[_]||x.en;if(console.log(`ðŸ” Selecting voice for language: ${_}`),_==="en"){let l=c.find(S=>S.lang.startsWith("en")&&S.localService&&(S.name.toLowerCase().includes("female")||S.name.toLowerCase().includes("zira")||S.name.toLowerCase().includes("susan")||S.name.toLowerCase().includes("samantha")||S.name.toLowerCase().includes("karen")||S.name.toLowerCase().includes("moira")));if(l)return console.log(`âœ… Found female English voice: ${l.name} (${l.lang})`),l;if(l=c.find(S=>S.lang.startsWith("en")&&S.localService),l)return console.log(`âœ… Found local English voice: ${l.name} (${l.lang})`),l;if(l=c.find(S=>S.lang.startsWith("en")),l)return console.log(`âœ… Found English voice: ${l.name} (${l.lang})`),l}let r=c.find(l=>l.lang===N.speechLang&&l.localService);return r?(console.log(`âœ… Found exact local voice: ${r.name} (${r.lang})`),r):(r=c.find(l=>l.lang.startsWith(N.voiceSearch)&&l.localService),r?(console.log(`âœ… Found language family local voice: ${r.name} (${r.lang})`),r):(r=c.find(l=>l.lang.startsWith(N.voiceSearch)),r?(console.log(`âœ… Found online voice: ${r.name} (${r.lang})`),r):(r=c[0],console.log(`âš ï¸ Using fallback voice: ${r?.name} (${r?.lang})`),r)))},F=()=>({restaurant:["dine","dining","restaurant","eat","inside","à¤°à¥‡à¤¸à¥à¤Ÿà¥‹à¤°à¥‡à¤‚à¤Ÿ","à¤–à¤¾à¤¨à¤¾","à¤­à¥‹à¤œà¤¨","à¤…à¤‚à¤¦à¤°","à¤œà¥‡à¤µà¤£","à¤–à¤¾à¤£à¥‡","à¤°à¥‡à¤¸à¥à¤Ÿà¥‰à¤°à¤‚à¤Ÿ","à¤œà¥‡à¤µà¤£","à¤–à¤¾à¤£à¥‡","à¤­à¥‹à¤œà¤¨","à¤†à¤¤","àª°à«‡àª¸à«àªŸà«‹àª°àª¨à«àªŸ","àªœàª®àªµà«àª‚","àª–àª¾àªµà«àª‚","àª­à«‹àªœàª¨","àª°à«‡àª¸à«àªŸà«‹","àª…àª‚àª¦àª°","àª–àª¾àªµàª¾","àªœàª®àªµàª¾"],takeaway:["takeaway","take away","parcel","pickup","home","pack","outside","à¤ªà¥ˆà¤•à¥‡à¤Ÿ","à¤Ÿà¥‡à¤•à¤…à¤µà¥‡","à¤ªà¤¾à¤°à¥à¤¸à¤²","à¤˜à¤°","à¤¬à¤¾à¤¹à¤°","à¤ªà¥ˆà¤•","à¤ªà¥…à¤•à¥‡à¤Ÿ","à¤ªà¤¾à¤°à¥à¤¸à¤²","à¤˜à¤°","à¤¬à¤¾à¤¹à¥‡à¤°","à¤ªà¥…à¤•","àªªà«‡àª•à«‡àªŸ","àªªàª¾àª°à«àª¸àª²","àª˜àª°","àª¬àª¹àª¾àª°","àªªà«‡àª•","àª²à«‡àªµàª¾","àª²à«‡àªµàª¾àª¨à«àª‚","àª²àªˆ"]}),L=(_,c,N)=>{console.log(`ðŸ” Smart matching for language: ${N}`),console.log("ðŸ“ Transcripts to match:",_),console.log("ðŸŽ¯ Available commands:",Object.keys(c));const r=F();for(const l of _){console.log(`ðŸ” Processing transcript: "${l}"`);const S=r.restaurant.some(a=>{const y=l.includes(a.toLowerCase())||a.toLowerCase().includes(l)||l.includes(a)||a.includes(l);return y&&console.log(`âœ… Found restaurant keyword: "${a}" in "${l}"`),y}),i=r.takeaway.some(a=>{const y=l.includes(a.toLowerCase())||a.toLowerCase().includes(l)||l.includes(a)||a.includes(l);return y&&console.log(`âœ… Found takeaway keyword: "${a}" in "${l}"`),y});if(S)for(const[a,y]of Object.entries(c)){const g=a.toLowerCase();if(g.includes("dine")||g.includes("restaurant")||g.includes("àª°à«‡àª¸à«àªŸà«‹àª°àª¨à«àªŸ")||g.includes("à¤°à¥‡à¤¸à¥à¤Ÿà¥‹à¤°à¥‡à¤‚à¤Ÿ")||g.includes("àªœàª®àªµà«àª‚")||g.includes("àª–àª¾àªµà«àª‚"))return console.log(`ðŸŽ‰ RESTAURANT MATCH: Command "${a}" matched for transcript "${l}"`),{matched:!0,key:a,action:y,reason:"restaurant keyword"}}if(i)for(const[a,y]of Object.entries(c)){const g=a.toLowerCase();if(g.includes("take")||g.includes("parcel")||g.includes("àªªà«‡àª•à«‡àªŸ")||g.includes("à¤ªà¥ˆà¤•à¥‡à¤Ÿ")||g.includes("àªªàª¾àª°à«àª¸àª²")||g.includes("àª²à«‡àªµàª¾"))return console.log(`ðŸŽ‰ TAKEAWAY MATCH: Command "${a}" matched for transcript "${l}"`),{matched:!0,key:a,action:y,reason:"takeaway keyword"}}for(const[a,y]of Object.entries(c))if(l.includes(a.toLowerCase())||a.toLowerCase().includes(l))return console.log(`ðŸŽ‰ EXACT MATCH: Command "${a}" matched for transcript "${l}"`),{matched:!0,key:a,action:y,reason:"exact match"}}return{matched:!1}},n=(_,c,N="en")=>{if(console.log("ðŸ”Š readAloudWithPrompt called with texts:",_,"language:",N),!window.speechSynthesis){console.error("âŒ Speech Synthesis not supported"),c&&c();return}U(),window.speechSynthesis.cancel();const r={en:"Now please say your choice",hi:"à¤…à¤¬ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤…à¤ªà¤¨à¤¾ à¤µà¤¿à¤•à¤²à¥à¤ª à¤¬à¥‹à¤²à¥‡à¤‚",mr:"à¤†à¤¤à¤¾ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¤à¥à¤®à¤šà¤¾ à¤ªà¤°à¥à¤¯à¤¾à¤¯ à¤®à¥à¤¹à¤£à¤¾",gu:"àª¹àªµà«‡ àª•à«ƒàªªàª¾ àª•àª°à«€àª¨à«‡ àª¤àª®àª¾àª°à«‹ àªµàª¿àª•àª²à«àªª àª•àª¹à«‹"},l=[..._,r[N]||r.en];setTimeout(()=>{const S=x[N]||x.en;let i=0;const a=()=>{if(i>=l.length){console.log("âœ… All texts completed including choice prompt"),c&&setTimeout(c,100);return}const y=l[i];console.log(`ðŸ”Š Speaking text ${i+1}/${l.length}: "${y}"`);const g=new SpeechSynthesisUtterance(y);g.volume=1,g.rate=N==="mr"||N==="gu"?.8:.9,g.pitch=1,g.lang=S.speechLang;const A=V(N);A&&(g.voice=A),g.onstart=()=>{console.log(`âœ… Started speaking: "${y}" in ${N}`)},g.onend=()=>{console.log(`âœ… Finished speaking: "${y}"`),i++,setTimeout(a,200)},g.onerror=O=>{console.error(`âŒ Speech error for "${y}":`,O),i++,setTimeout(a,100)};try{window.speechSynthesis.speak(g)}catch(O){console.error("âŒ Failed to speak:",O),i++,setTimeout(a,100)}};a()},100)},T=(_,c,N="en")=>{if(console.log("ðŸ”Š readAloud (simple) called with texts:",_,"language:",N),!window.speechSynthesis){console.error("âŒ Speech Synthesis not supported"),c&&c();return}U(),window.speechSynthesis.cancel(),setTimeout(()=>{const r=x[N]||x.en;let l=0;const S=()=>{if(l>=_.length){console.log("âœ… Simple speech completed"),c&&setTimeout(c,100);return}const i=_[l];console.log(`ðŸ”Š Speaking simple text ${l+1}/${_.length}: "${i}"`);const a=new SpeechSynthesisUtterance(i);a.volume=1,a.rate=N==="mr"||N==="gu"?.8:.9,a.pitch=1,a.lang=r.speechLang;const y=V(N);y&&(a.voice=y),a.onstart=()=>{console.log(`âœ… Started speaking simple: "${i}" in ${N}`)},a.onend=()=>{console.log(`âœ… Finished speaking simple: "${i}"`),l++,setTimeout(S,800)},a.onerror=g=>{console.error(`âŒ Speech error for "${i}":`,g),l++,setTimeout(S,500)};try{window.speechSynthesis.speak(a)}catch(g){console.error("âŒ Failed to speak:",g),l++,setTimeout(S,500)}};S()},100)};return{readAloud:n,readAloudSimple:T,startListening:(_={},c="en")=>{if(!("webkitSpeechRecognition"in window)){console.error("Speech Recognition not supported");return}const N=x[c]||x.en;if(console.log(`ðŸŽ¤ Starting recognition for language: ${c}`),h.current)c==="gu"?h.current.lang="gu-IN":h.current.lang=N.recognitionLang;else{const r=new window.webkitSpeechRecognition;c==="gu"?(r.lang="gu-IN",console.log("ðŸ‡¬ðŸ‡º Using Gujarati recognition (gu-IN)")):r.lang=N.recognitionLang,r.continuous=!1,r.interimResults=!1,r.maxAlternatives=5,r.onresult=l=>{const S=[];for(let a=0;a<l.results[0].length;a++)S.push(l.results[0][a].transcript.toLowerCase().trim());console.log("ðŸŽ¯ Voice recognition results:",S);const i=L(S,_,c);if(i.matched){if(console.log(`ðŸŽ‰ SUCCESS: Matched "${i.key}" via ${i.reason}`),typeof i.action=="function"){const y={en:`${i.key} selected`,hi:`${i.key} à¤šà¥à¤¨à¤¾ à¤—à¤¯à¤¾`,mr:`${i.key} à¤¨à¤¿à¤µà¤¡à¤²à¥‡`,gu:`${i.key} àªªàª¸àª‚àª¦ àª•àª°à«àª¯à«àª‚`}[c]||i.key;T([y],()=>{i.action()},c)}}else{console.log("âŒ No match found for any transcript:",S);const a={en:["I didn't understand. Please try again."],hi:["à¤¸à¤®à¤ à¤¨à¤¹à¥€à¤‚ à¤†à¤¯à¤¾à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¦à¥‹à¤¬à¤¾à¤°à¤¾ à¤•à¤¹à¥‡à¤‚à¥¤"],mr:["à¤¸à¤®à¤œà¤²à¥‡ à¤¨à¤¾à¤¹à¥€. à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¥à¤¨à¥à¤¹à¤¾ à¤®à¥à¤¹à¤£à¤¾."],gu:["àª¸àª®àªœàª¾àª¯à«àª‚ àª¨àª¹à«€àª‚. àª•à«ƒàªªàª¾ àª•àª°à«€àª¨à«‡ àª«àª°à«€àª¥à«€ àª•àª¹à«‹."]},y=a[c]||a.en;T(y,()=>{setTimeout(()=>{if(h.current)try{h.current.start()}catch(g){console.error("Failed to restart recognition:",g)}},1e3)},c)}},r.onerror=l=>{if(console.error("âŒ Recognition error:",l.error),c==="gu"&&r.lang==="gu-IN"){console.log("ðŸ”„ Gujarati recognition failed, falling back to Hindi"),r.lang="hi-IN",setTimeout(()=>{try{r.start()}catch(a){console.error("Fallback recognition failed:",a)}},500);return}const S={en:"Voice recognition failed. Please try again.",hi:"à¤†à¤µà¤¾à¤œà¤¼ à¤•à¥€ à¤ªà¤¹à¤šà¤¾à¤¨ à¤¨à¤¹à¥€à¤‚ à¤¹à¥à¤ˆà¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¦à¥‹à¤¬à¤¾à¤°à¤¾ à¤•à¥‹à¤¶à¤¿à¤¶ à¤•à¤°à¥‡à¤‚à¥¤",mr:"à¤†à¤µà¤¾à¤œ à¤“à¤³à¤–à¤¤à¤¾ à¤†à¤²à¥€ à¤¨à¤¾à¤¹à¥€. à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¥à¤¨à¥à¤¹à¤¾ à¤ªà¥à¤°à¤¯à¤¤à¥à¤¨ à¤•à¤°à¤¾.",gu:"àª…àªµàª¾àªœ àª“àª³àª–à«€ àª¶àª•àª¾àª¯à«‹ àª¨àª¥à«€. àª•à«ƒàªªàª¾ àª•àª°à«€àª¨à«‡ àª«àª°à«€ àªªà«àª°àª¯àª¾àª¸ àª•àª°à«‹."},i=S[c]||S.en;T([i],null,c)},r.onend=()=>{console.log("ðŸ”š Voice recognition ended")},h.current=r}try{h.current.start()}catch(r){console.error("âŒ Failed to start recognition:",r)}},stopListening:()=>{h.current&&h.current.stop()}}}const st=({selectedType:h,onTypeChange:R,customerLocation:x,onLocationChange:U,selectedCart:V,onCartChange:F,nearbyCarts:L=[],loading:n=!1,texts:T={}})=>{const[k,P]=d.useState(null),[_,c]=d.useState(""),[N,r]=d.useState(!1),l=async(i,a)=>{try{r(!0);const y=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${i}&lon=${a}&addressdetails=1`,{headers:{"User-Agent":"TerraCart-Ordering-System"}});if(!y.ok)throw new Error("Failed to fetch address");const g=await y.json();if(g&&g.address){const A=g.address,O=[];if(A.building)O.push(A.building);else if(A.house_name)O.push(A.house_name);else if(A.house_number){const ne=A.house_number.trim();ne&&O.push(ne)}A.road&&O.push(A.road),A.city?O.push(A.city):A.town?O.push(A.town):A.village&&O.push(A.village),A.state?A.postcode?O.push(`${A.state} - ${A.postcode}`):O.push(A.state):A.postcode&&O.push(A.postcode);let M=O.join(", ");return(!M||M.trim().length===0)&&(M=g.display_name||"Address not available"),M}return g.display_name||"Address not available"}catch(y){return console.error("Reverse geocoding error:",y),null}finally{r(!1)}},S=async()=>{if(!navigator.geolocation){P("Geolocation is not supported by your browser");return}P(null),r(!0),navigator.geolocation.getCurrentPosition(async i=>{const a=i.coords.latitude,y=i.coords.longitude,g=await l(a,y),A={latitude:a,longitude:y,address:g||_||"Location coordinates captured"};g&&c(g),U(A)},i=>{P("Unable to get your location. Please enter manually."),r(!1),console.error("Geolocation error:",i)})};return d.useEffect(()=>{x?.latitude&&x?.longitude},[x]),t.jsxs("div",{className:"order-type-selector",children:[t.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",color:"#333"},children:T.title||"Choose Order Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("label",{className:`order-type-option flex flex-col items-center justify-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 h-full ${h==="PICKUP"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-200 hover:bg-gray-50"}`,children:[t.jsx("input",{type:"radio",name:"orderType",value:"PICKUP",checked:h==="PICKUP",onChange:()=>R("PICKUP"),className:"hidden"}),t.jsx(Ke,{className:`text-3xl mb-3 ${h==="PICKUP"?"text-orange-500":"text-gray-400"}`}),t.jsx("div",{className:"font-bold text-gray-800 text-lg mb-1",children:T.pickupOption||"Pickup"}),t.jsx("div",{className:"text-xs text-gray-500 text-center leading-tight",children:T.pickupDesc||"Order and collect from store"})]}),t.jsxs("label",{className:`order-type-option flex flex-col items-center justify-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 h-full ${h==="DELIVERY"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-200 hover:bg-gray-50"}`,children:[t.jsx("input",{type:"radio",name:"orderType",value:"DELIVERY",checked:h==="DELIVERY",onChange:()=>R("DELIVERY"),className:"hidden"}),t.jsx(Je,{className:`text-3xl mb-3 ${h==="DELIVERY"?"text-orange-500":"text-gray-400"}`}),t.jsx("div",{className:"font-bold text-gray-800 text-lg mb-1",children:T.deliveryOption||"Delivery"}),t.jsx("div",{className:"text-xs text-gray-500 text-center leading-tight",children:T.deliveryDesc||"Get your order delivered"})]})]}),(h==="PICKUP"||h==="DELIVERY")&&t.jsxs("div",{className:"location-section mb-4",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(qe,{className:"text-red-500"}),"Your Location"]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{type:"button",onClick:S,className:"btn-location",disabled:N,children:N?"ðŸ“ Fetching location...":"ðŸ“ Use Current Location"}),t.jsx("input",{type:"text",placeholder:"Enter your address or 6-digit pin code",value:_,onChange:i=>{const a=i.target.value;c(a),a.trim()?U({address:a}):U(null)},className:"input-field"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ðŸ’¡ Tip: You can enter just your 6-digit pin code for faster location detection"}),k&&t.jsx("p",{className:"text-red-500 text-sm",children:k}),x&&t.jsxs("div",{className:"location-info",style:{padding:"0.75rem",background:"#f0f9ff",borderRadius:"0.5rem",border:"1px solid #bae6fd"},children:[t.jsx("p",{className:"text-sm font-medium text-gray-800 mb-1",children:"ðŸ“ Your Location:"}),t.jsx("p",{className:"text-sm text-gray-700",children:x.address||"Location set"}),x.latitude&&x.longitude&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Coordinates: ",x.latitude.toFixed(6),","," ",x.longitude.toFixed(6)]})]})]})]}),h==="DELIVERY"&&x&&x.latitude&&x.longitude&&t.jsxs("div",{className:"nearby-carts-section",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Available Stores"}),n?t.jsx("p",{className:"text-sm text-gray-600",children:"Loading nearby stores..."}):L.length===0?t.jsxs("div",{className:"text-sm text-red-600 p-2 bg-red-50 rounded",children:[t.jsx("p",{className:"font-semibold",children:"No stores available for delivery in your area"}),t.jsx("p",{className:"text-xs mt-1",children:"All stores are outside the delivery radius for your location."}),t.jsx("p",{className:"text-xs mt-2 text-blue-600",children:'ðŸ’¡ Try selecting "Pickup" instead, or enter a different address'})]}):t.jsx("div",{className:"carts-list",children:L.map(i=>t.jsxs("label",{className:"cart-option",children:[t.jsx("input",{type:"radio",name:"cart",value:i._id,checked:V?._id===i._id,onChange:()=>F(i),className:"mr-2"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:i.name}),i.distance!==null&&t.jsxs("div",{className:"text-sm text-gray-600",children:[i.distance.toFixed(2)," km away"]}),i.deliveryInfo&&t.jsxs("div",{className:"text-sm text-green-600",children:["Delivery: â‚¹",i.deliveryInfo.deliveryCharge," â€¢"," ",i.deliveryInfo.estimatedTime," min",i.deliveryInfo.distance&&t.jsxs("span",{children:[" ","â€¢ ",i.deliveryInfo.distance.toFixed(2)," km"]})]})]})]},i._id))})]}),h==="PICKUP"&&x&&t.jsxs("div",{className:"pickup-carts-section",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Select Store"}),n?t.jsx("p",{className:"text-sm text-gray-600",children:"Loading stores..."}):L.length===0?t.jsxs("div",{className:"text-sm text-yellow-600 p-2 bg-yellow-50 rounded",children:[t.jsx("p",{className:"font-semibold",children:"No stores available"}),t.jsx("p",{className:"text-xs mt-1",children:"Please ensure:"}),t.jsxs("ul",{className:"text-xs list-disc list-inside mt-1",children:[t.jsx("li",{children:"At least one cart exists in the system"}),t.jsx("li",{children:"Carts have pickup enabled"}),t.jsx("li",{children:"Backend server is running"})]})]}):t.jsx("div",{className:"carts-list",children:L.filter(i=>i.pickupEnabled).map(i=>t.jsxs("label",{className:"cart-option",children:[t.jsx("input",{type:"radio",name:"cart",value:i._id,checked:V?._id===i._id,onChange:()=>F(i),className:"mr-2"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:i.name}),i.address?.fullAddress&&t.jsx("div",{className:"text-sm text-gray-600",children:i.address.fullAddress}),i.distance!==null&&t.jsxs("div",{className:"text-sm text-gray-500",children:[i.distance.toFixed(2)," km away"]})]})]},i._id))})]})]})},be="https://api.terracart.in".replace(/\/$/,""),we=async(h,R,x,U=null)=>{try{let V=`${be}/api/carts/nearby?orderType=${x}`;x==="DELIVERY"&&U?V+=`&pinCode=${encodeURIComponent(U)}`:h&&R&&(V+=`&latitude=${h}&longitude=${R}`);const F=await fetch(V);if(!F.ok)throw new Error("Failed to fetch nearby carts");const L=await F.json();return(L.success?L.data:[]).filter(T=>T.cartAdminId!=null&&T.cartAdminId.isActive!==!1)}catch(V){return V?.message==="Failed to fetch"||V?.name==="TypeError"?console.warn("[CartAPI] Cannot reach backend at",be,"- is the server running?"):console.error("[CartAPI] Error fetching nearby carts:",V),[]}},nt=async(h=null)=>{try{let R=`${be}/api/carts/available`;h&&(R+=`?orderType=${h}`);const x=await fetch(R);if(!x.ok)throw new Error("Failed to fetch available carts");const U=await x.json();return(U.success?U.data:[]).filter(F=>F.cartAdminId!=null&&F.cartAdminId.isActive!==!1)}catch(R){return console.error("[CartAPI] Error fetching available carts:",R),[]}},H="https://api.terracart.in".replace(/\/$/,"");H.includes("localhost")&&console.error("[SecondPage] âš ï¸ WARNING: VITE_NODE_API_URL is not set correctly in production!","Current value:","https://api.terracart.in");function se(){console.log("[SecondPage] Clearing old DINE_IN order data due to session change (preserving takeaway data)"),localStorage.removeItem("terra_orderId"),localStorage.removeItem("terra_cart"),localStorage.removeItem("terra_orderStatus"),localStorage.removeItem("terra_orderStatusUpdatedAt"),localStorage.removeItem("terra_previousOrder"),localStorage.removeItem("terra_previousOrderDetail"),localStorage.removeItem("terra_lastPaidOrderId"),localStorage.removeItem("terra_cart_DINE_IN"),localStorage.removeItem("terra_orderId_DINE_IN"),localStorage.removeItem("terra_orderStatus_DINE_IN"),localStorage.removeItem("terra_orderStatusUpdatedAt_DINE_IN")}function ht(){const h=ze(),[R,x]=d.useState(localStorage.getItem("accessibilityMode")==="true"),[U,V]=d.useState(localStorage.getItem("language")||"en");d.useEffect(()=>{const e=()=>{V(localStorage.getItem("language")||"en")};return window.addEventListener("storage",e),window.addEventListener("language-change",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("language-change",e)}},[]);const[F,L]=d.useState(()=>localStorage.getItem("terra_sessionToken")),[n,T]=d.useState(()=>{try{const e=localStorage.getItem("terra_selectedTable");return e?JSON.parse(e):null}catch{return null}}),[k,P]=d.useState(localStorage.getItem("terra_waitToken")),[_,c]=d.useState(null),[N,r]=d.useState(!1),[l,S]=d.useState(!1),[i,a]=d.useState(!1),[y,g]=d.useState(()=>{const e=localStorage.getItem("terra_selectedTable"),s=localStorage.getItem("terra_scanToken");return!e&&!s?"":localStorage.getItem("terra_takeaway_customerName")||""}),[A,O]=d.useState(()=>{const e=localStorage.getItem("terra_selectedTable"),s=localStorage.getItem("terra_scanToken");return!e&&!s?"":localStorage.getItem("terra_takeaway_customerMobile")||""}),[M,ne]=d.useState(()=>{const e=localStorage.getItem("terra_selectedTable"),s=localStorage.getItem("terra_scanToken");return!e&&!s?"":localStorage.getItem("terra_takeaway_customerEmail")||""}),[Ae,ue]=d.useState(!1),[C,xe]=d.useState(null),[I,he]=d.useState(null),[Y,ce]=d.useState(null),[Ne,z]=d.useState([]),[Ee,Q]=d.useState(!1),[it,lt]=d.useState(!1),[me,Ce]=d.useState(""),[Pe,ae]=d.useState(!1),[G,pe]=d.useState(""),[B,Se]=d.useState("1"),[oe,Le]=d.useState(()=>localStorage.getItem("terra_takeaway_only")==="true"),[ie,je]=d.useState(()=>{const e=localStorage.getItem("terra_takeaway_only")==="true",s=localStorage.getItem("terra_scanToken"),o=localStorage.getItem("terra_selectedTable");return!e&&!s&&!o});d.useEffect(()=>{const e=()=>{const o=localStorage.getItem("terra_takeaway_only")==="true",f=localStorage.getItem("terra_scanToken"),u=localStorage.getItem("terra_selectedTable")||n,w=!!(typeof window<"u"&&new URLSearchParams(window.location.search).get("table"));je(!o&&!f&&!u&&!w)};e(),window.addEventListener("storage",e);const s=setInterval(e,100);return()=>{window.removeEventListener("storage",e),clearInterval(s)}},[n]),d.useEffect(()=>{ie&&(console.log("[SecondPage] Normal link detected - clearing dine-in order data"),se(),localStorage.removeItem("terra_selectedTable"),localStorage.removeItem("terra_scanToken"),localStorage.removeItem("terra_sessionToken"),localStorage.removeItem("terra_waitToken"),T(null),L(null),P(null))},[ie]);const De=d.useRef(!1);d.useEffect(()=>{if(!C||!I){z([]);return}if(C==="DELIVERY"&&(!I.latitude||!I.longitude)){if(I.address&&I.address.trim()){const e=I.address.trim(),s=/^\d{6}$/.test(e);Q(!0),s?(console.log("[SecondPage] Fetching carts by pin code:",e),we(null,null,C,e).then(o=>{z(o),Q(!1),o.length>0&&!Y&&ce(o[0])}).catch(o=>{console.error("[SecondPage] Error fetching carts by pin code:",o),Q(!1),z([])})):ke(I.address).then(o=>{if(o){const f={...I,latitude:o.latitude,longitude:o.longitude};return he(f),we(o.latitude,o.longitude,C)}else return Q(!1),z([]),Promise.resolve([])}).then(o=>{const f=o.filter(u=>u.canDeliver);z(f),Q(!1),f.length>0&&!Y&&ce(f[0])}).catch(o=>{console.error("[SecondPage] Error geocoding or fetching carts:",o),Q(!1),z([])})}else z([]);return}Q(!0),I.latitude&&I.longitude?we(I.latitude,I.longitude,C).then(e=>{const s=C==="DELIVERY"?e.filter(o=>o.canDeliver):e.filter(o=>o.canPickup);z(s),Q(!1),s.length>0&&!Y&&ce(s[0])}).catch(e=>{console.warn("[SecondPage] Error fetching nearby carts:",e.message||e),z([]),Q(!1)}):C==="PICKUP"?nt(C).then(e=>{const s=e.filter(o=>o.canPickup);z(s),Q(!1),s.length>0&&!Y&&ce(s[0])}).catch(e=>{console.warn("[SecondPage] Error fetching available carts:",e.message||e),z([]),Q(!1)}):(z([]),Q(!1))},[C,I,Y]);const ke=async e=>{try{const s=/^\d{6}$/.test(e.trim());let o=e;s&&(o=`${e}, India`);const f=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(o)}&limit=1&countrycodes=in`,{headers:{"User-Agent":"TerraCart-Ordering-System"}});if(!f.ok)throw new Error("Failed to geocode address");const u=await f.json();return u&&u.length>0?{latitude:parseFloat(u[0].lat),longitude:parseFloat(u[0].lon)}:null}catch(s){return console.error("[SecondPage] Geocoding error:",s),null}},$e=(e,s,o,f)=>{const w=(o-e)*Math.PI/180,E=(f-s)*Math.PI/180,$=Math.sin(w/2)*Math.sin(w/2)+Math.cos(e*Math.PI/180)*Math.cos(o*Math.PI/180)*Math.sin(E/2)*Math.sin(E/2),v=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return Math.round(6371*v*100)/100},Oe=(e,s,o)=>{if(!e||!e.coordinates?.latitude||!e.coordinates?.longitude)return{available:!1,distance:null,reason:"Cart location not configured"};if(!s||!o)return{available:!1,distance:null,reason:"Customer location not available"};if(!e.deliveryEnabled)return{available:!1,distance:null,reason:"Delivery not enabled for this store"};const f=$e(s,o,e.coordinates.latitude,e.coordinates.longitude),u=e.deliveryRadius||5,w=f<=u;return{available:w,distance:f,maxRadius:u,reason:w?null:`You are ${f.toFixed(2)} km away, but maximum delivery radius is ${u} km`}},Re=d.useCallback(e=>{ce(e)},[]);d.useEffect(()=>{const e=localStorage.getItem("terra_takeaway_only")==="true";Le(e)},[]),d.useEffect(()=>{const e=localStorage.getItem("terra_scanToken"),s=sessionStorage.getItem("terra_previousScanToken");e?e!==s?(g(""),O(""),ne(""),localStorage.removeItem("terra_takeaway_customerName"),localStorage.removeItem("terra_takeaway_customerMobile"),localStorage.removeItem("terra_takeaway_customerEmail"),sessionStorage.setItem("terra_previousScanToken",e)):!s&&e&&sessionStorage.setItem("terra_previousScanToken",e):(g(""),O(""),ne(""),localStorage.removeItem("terra_takeaway_customerName"),localStorage.removeItem("terra_takeaway_customerMobile"),localStorage.removeItem("terra_takeaway_customerEmail"))},[]);const m=e=>ot[U]?.[e]||e;rt(),d.useEffect(()=>{if((localStorage.getItem("terra_serviceType")||"DINE_IN")==="TAKEAWAY"){a(!1),r(!1),k&&(localStorage.removeItem("terra_waitToken"),P(null),c(null));return}if(oe){a(!1),r(!1);return}let s=n;if(!s){const v=localStorage.getItem("terra_selectedTable");if(v)try{s=JSON.parse(v)}catch(j){console.warn("[SecondPage] Failed to parse stored table:",j);return}else{a(!1);return}}const o=localStorage.getItem("terra_orderId")||localStorage.getItem("terra_orderId_DINE_IN"),f=localStorage.getItem("terra_orderStatus")||localStorage.getItem("terra_orderStatus_DINE_IN");if(o&&f&&!["Paid","Cancelled","Returned","Completed"].includes(f)){a(!1),r(!1);return}const w=s.status||"AVAILABLE",E=w!=="AVAILABLE";if(a(E),w==="AVAILABLE"){r(!1),k&&(localStorage.removeItem("terra_waitToken"),P(null),c(null)),se(),console.log("[SecondPage] Table is AVAILABLE - cleared all order data for new customer");return}const $=localStorage.getItem("terra_waitToken");E&&!$?r(!0):(w==="AVAILABLE"||$)&&r(!1)},[n,k,oe]),d.useEffect(()=>{if(oe){c(null);return}if(!n||n.status==="AVAILABLE"){k&&(localStorage.removeItem("terra_waitToken"),P(null),c(null));return}if(!k){c(null);return}const e=async()=>{if(n?.status==="AVAILABLE"){localStorage.removeItem("terra_waitToken"),P(null),c(null);return}try{const u=await fetch(`${H}/api/waitlist/status?token=${k}`);if(u.status===404){localStorage.removeItem("terra_waitToken"),P(null),c(null);return}if(!u.ok)throw new Error("Failed to fetch waitlist status");const w=await u.json();c({...w,position:w.position||w.position===0?w.position:_?.position||1}),w.status==="SEATED"&&w.sessionToken&&(localStorage.setItem("terra_sessionToken",w.sessionToken),L(w.sessionToken),localStorage.removeItem("terra_waitToken"),P(null),c(null))}catch(u){console.error("Waitlist status error",u)}},s=async u=>{const w=n?.id||n?._id;k&&u.tableId&&w&&u.tableId.toString()===w.toString()&&(console.log("[SecondPage] Waitlist updated via socket, refreshing position"),(u.status==="NOTIFIED"||u.status==="SEATED")&&(se(),console.log(`[SecondPage] Waitlist status changed to ${u.status} - cleared all order data for new customer`)),await e())};let o=null;try{o=_e(H,{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,timeout:2e4,autoConnect:!0,forceNew:!1}),o.on("connect",()=>{console.log("[SecondPage] Waitlist socket connected")}),o.on("connect_error",u=>{u.message&&!u.message.includes("xhr poll error")&&console.warn("[SecondPage] Waitlist socket connection error:",u.message)}),o.on("disconnect",u=>{u!=="io client disconnect"&&console.log("[SecondPage] Waitlist socket disconnected:",u)}),o.on("waitlistUpdated",s)}catch(u){console.warn("[SecondPage] Failed to create waitlist socket connection:",u)}e();const f=setInterval(e,15e3);return()=>{clearInterval(f),o&&(o.off("waitlistUpdated",s),o.disconnect())}},[k,n,oe]),d.useEffect(()=>{const e=localStorage.getItem("terra_selectedTable");if(e)try{const s=JSON.parse(e);T(s);const o=localStorage.getItem("terra_sessionToken");o&&L(o);const u=(localStorage.getItem("terra_serviceType")||"DINE_IN")==="TAKEAWAY",w=s.status||"AVAILABLE",E=localStorage.getItem("terra_waitToken");w==="AVAILABLE"?(a(!1),r(!1),E&&(localStorage.removeItem("terra_waitToken"),P(null),c(null)),console.log("[SecondPage] Table is AVAILABLE on mount - hiding waitlist modal")):!u&&w!=="AVAILABLE"&&!E?(console.log("[SecondPage] Table is occupied on mount - showing waitlist modal"),a(!0),r(!0)):u&&(a(!1),r(!1));const $=async()=>{const W=localStorage.getItem("terra_orderId")||localStorage.getItem("terra_orderId_DINE_IN"),p=localStorage.getItem("terra_orderStatus")||localStorage.getItem("terra_orderStatus_DINE_IN");if(W&&p&&!["Paid","Cancelled","Returned","Completed"].includes(p)){console.log("[SecondPage] User has active order - skipping table status refresh");return}const fe=s.qrSlug||localStorage.getItem("terra_scanToken");if(fe)try{const ee=new URLSearchParams;o&&ee.set("sessionToken",o);const b=`${H}/api/tables/lookup/${fe}${ee.toString()?`?${ee.toString()}`:""}`,J=await fetch(b);if(J.status===404){localStorage.removeItem("terra_selectedTable"),localStorage.removeItem("terra_scanToken"),localStorage.removeItem("terra_sessionToken"),T(null),L(null),console.warn("[SecondPage] Table not found (404) - cleared invalid table data");return}if(J.ok){const q=await J.json().catch(()=>({}));if(q?.table){console.log("[SecondPage] Refreshed table status:",q.table.status);const Z={...s,...q.table,qrSlug:s.qrSlug||q.table.qrSlug,capacity:q.table.capacity||q.table.originalCapacity||s.capacity||s.originalCapacity||null,originalCapacity:q.table.originalCapacity||s.originalCapacity||null};T(Z),localStorage.setItem("terra_selectedTable",JSON.stringify(Z));const X=(localStorage.getItem("terra_serviceType")||"DINE_IN")==="TAKEAWAY",le=Z.status||"AVAILABLE";le==="AVAILABLE"?(a(!1),r(!1),localStorage.removeItem("terra_waitToken"),P(null),c(null),se(),console.log("[SecondPage] Table is AVAILABLE (from refresh) - cleared all order data and waitlist state")):!X&&le!=="AVAILABLE"&&!k?(a(!0),r(!0),console.log("[SecondPage] Table is OCCUPIED (from refresh) - showing waitlist modal")):X&&(a(!1),r(!1))}}else if(J.status===423){const Z=(localStorage.getItem("terra_serviceType")||"DINE_IN")==="TAKEAWAY";let de={};try{de=await J.json()}catch(te){console.warn("[SecondPage] Failed to parse 423 response (expected for occupied tables):",te)}const X=de?.table||s,le=X?.status||"OCCUPIED",ye={...X,capacity:X.capacity||X.originalCapacity||s.capacity||s.originalCapacity||null,originalCapacity:X.originalCapacity||s.originalCapacity||null};if(T(ye),localStorage.setItem("terra_selectedTable",JSON.stringify(ye)),le==="AVAILABLE")a(!1),r(!1),localStorage.removeItem("terra_waitToken"),P(null),c(null),console.log("[SecondPage] Table is AVAILABLE (despite 423 response) - hiding waitlist modal");else{a(!0);const te=localStorage.getItem("terra_waitToken");!Z&&!te?(console.log("[SecondPage] Table is locked (423) and OCCUPIED - showing waitlist modal (this is expected behavior)"),r(!0)):Z&&(a(!1),r(!1))}}else J.status===404&&(localStorage.removeItem("terra_selectedTable"),localStorage.removeItem("terra_scanToken"),localStorage.removeItem("terra_sessionToken"),T(null),L(null),console.warn("[SecondPage] Table not found (404) during refresh - cleared invalid table data"))}catch(ee){console.warn("[SecondPage] Failed to refresh table status:",ee);const J=(localStorage.getItem("terra_serviceType")||"DINE_IN")==="TAKEAWAY",q=s.status||"AVAILABLE";q==="AVAILABLE"?(a(!1),r(!1),k&&(localStorage.removeItem("terra_waitToken"),P(null),c(null)),console.log("[SecondPage] Table is AVAILABLE (refresh failed) - hiding waitlist modal")):!J&&q!=="AVAILABLE"&&!k?(a(!0),r(!0)):J&&(a(!1),r(!1))}},v=setTimeout($,500);let j=null;return j=setInterval(()=>{if(!(typeof window<"u"&&window.__tableStatusSocketConnected||!1)){const p=localStorage.getItem("terra_orderId")||localStorage.getItem("terra_orderId_DINE_IN"),D=localStorage.getItem("terra_orderStatus")||localStorage.getItem("terra_orderStatus_DINE_IN");p&&D&&!["Paid","Cancelled","Returned","Completed"].includes(D)||(console.log("[SecondPage] Socket disconnected - using fallback refresh"),$())}},3e4),typeof window<"u"&&(window.__tableStatusSocketConnected=!1),()=>{clearTimeout(v),j&&clearInterval(j)}}catch{T(null)}},[]),d.useEffect(()=>{if(!n||!n.id&&!n._id)return;const e=o=>{const f=o.id||o._id,u=n?.id||n?._id;if(!f||!u)return;if(String(f)!==String(u))if(o.number&&n?.number){if(String(o.number)!==String(n.number))return}else return;const w=localStorage.getItem("terra_orderId")||localStorage.getItem("terra_orderId_DINE_IN"),E=localStorage.getItem("terra_orderStatus")||localStorage.getItem("terra_orderStatus_DINE_IN");if(w&&E&&!["Paid","Cancelled","Returned","Completed"].includes(E)){console.log("[SecondPage] User has active order - ignoring table status update");return}console.log("[SecondPage] Table status updated via socket:",{newStatus:o.status,previousStatus:n.status,tableId:f,tableNumber:o.number});const v={...n,status:o.status,currentOrder:o.currentOrder||null,sessionToken:o.sessionToken||n.sessionToken,capacity:o.capacity||o.originalCapacity||n.capacity||n.originalCapacity||null,originalCapacity:o.originalCapacity||n.originalCapacity||null};T(v),localStorage.setItem("terra_selectedTable",JSON.stringify(v)),o.status==="AVAILABLE"?(console.log("[SecondPage] Table became AVAILABLE via socket - clearing waitlist state and order data"),a(!1),r(!1),localStorage.removeItem("terra_waitToken"),P(null),c(null),se(),console.log("[SecondPage] Cleared all order data for new customer"),n.status!=="AVAILABLE"&&console.log("[SecondPage] Table status changed to AVAILABLE - user can proceed")):o.status!=="AVAILABLE"&&((localStorage.getItem("terra_serviceType")||"DINE_IN")==="TAKEAWAY"?(a(!1),r(!1)):localStorage.getItem("terra_waitToken")||(a(!0),r(!0),console.log("[SecondPage] Table is OCCUPIED via socket - showing waitlist modal")))};let s=null;try{s=_e(H,{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5,timeout:6e4,connectTimeout:6e4,autoConnect:!0,forceNew:!1}),s.on("connect",()=>{console.log("[SecondPage] Table status socket connected"),typeof window<"u"&&(window.__tableStatusSocketConnected=!0)}),s.on("connect_error",o=>{o.message&&!o.message.includes("xhr poll error")&&console.warn("[SecondPage] Table status socket connection error:",o.message),typeof window<"u"&&(window.__tableStatusSocketConnected=!1)}),s.on("disconnect",o=>{o!=="io client disconnect"&&console.log("[SecondPage] Table status socket disconnected:",o),typeof window<"u"&&(window.__tableStatusSocketConnected=!1)}),s.on("table:status:updated",e)}catch(o){console.warn("[SecondPage] Failed to create table status socket:",o)}return()=>{s&&(s.off("table:status:updated",e),s.connected&&s.disconnect())}},[n]);const ve=d.useCallback(async(e="DINE_IN")=>{if(e==="TAKEAWAY"){localStorage.removeItem("terra_waitToken"),P(null),c(null),r(!1),a(!1);const v=localStorage.getItem("terra_orderId_TAKEAWAY")||localStorage.getItem("terra_orderId"),j=localStorage.getItem("terra_orderStatus_TAKEAWAY")||localStorage.getItem("terra_orderStatus"),K=localStorage.getItem("terra_takeaway_sessionToken"),W=j&&!["Cancelled","Returned","Paid","Completed"].includes(j);if(v&&K&&W){localStorage.setItem("terra_serviceType","TAKEAWAY"),h("/menu",{state:{serviceType:"TAKEAWAY"}});return}if(!K){const p=`TAKEAWAY-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;localStorage.setItem("terra_takeaway_sessionToken",p),console.log("[SecondPage] Generated takeaway sessionToken for fresh flow (unified):",p)}ue(!0);return}const o=localStorage.getItem("terra_orderId")||localStorage.getItem("terra_orderId_DINE_IN"),f=localStorage.getItem("terra_orderStatus")||localStorage.getItem("terra_orderStatus_DINE_IN");if(o&&f&&!["Paid","Cancelled","Returned","Completed"].includes(f)){console.log("[SecondPage] User has active order - granting immediate access:",o);const v=localStorage.getItem("terra_selectedTable");if(v)try{const j=JSON.parse(v);localStorage.setItem("terra_serviceType",e),h("/menu",{state:{serviceType:e,table:j}});return}catch{}}const w=localStorage.getItem("terra_selectedTable");if(!w){alert("We couldn't detect your table. Please scan the table QR again or contact staff.");return}const E=JSON.parse(w),$=E.qrSlug||localStorage.getItem("terra_scanToken");if(!$){alert("Missing table reference. Please rescan your QR code.");return}try{const v=new URLSearchParams,j=F||localStorage.getItem("terra_sessionToken");if(j&&v.set("sessionToken",j),k&&E?.status!=="AVAILABLE"&&v.set("waitToken",k),!$||$.trim().length<5){console.error("[SecondPage] Invalid slug:",$),alert("Invalid table QR code. Please scan the table QR code again.");return}const K=`${H}/api/tables/lookup/${encodeURIComponent($.trim())}${v.toString()?`?${v.toString()}`:""}`,W=await fetch(K);if(W.status===404){localStorage.removeItem("terra_selectedTable"),localStorage.removeItem("terra_scanToken"),localStorage.removeItem("terra_sessionToken"),T(null),L(null);const b=await W.json().catch(()=>({})),J=b?.message||"Table not found";console.error("[SecondPage] Table lookup 404:",{url:K,slug:$,nodeApi:H,response:b}),alert(`${J}. The QR code may be invalid or the table may have been removed. Please scan the table QR code again or contact staff for assistance.`);return}const p=await W.json().catch(()=>({}));if(W.status===423){const b=p.table||E;localStorage.setItem("terra_selectedTable",JSON.stringify(b)),T(b),a(!0);const J=localStorage.getItem("terra_orderId")||localStorage.getItem("terra_orderId_DINE_IN"),q=localStorage.getItem("terra_sessionToken"),Z=b?.sessionToken,de=J&&b?.currentOrder&&String(J)===String(b.currentOrder),X=q&&Z&&q===Z,le=p.order&&p.order._id;if(de||X||le){console.log("[SecondPage] Customer has active order/session - allowing access despite 423"),p.sessionToken&&(localStorage.setItem("terra_sessionToken",p.sessionToken),L(p.sessionToken)),p.order&&(localStorage.setItem("terra_orderId",p.order._id),localStorage.setItem("terra_orderId_DINE_IN",p.order._id)),localStorage.setItem("terra_serviceType",e),h("/menu",{state:{serviceType:e,table:b}});return}if((b?.status||"OCCUPIED")==="AVAILABLE"){localStorage.setItem("terra_serviceType",e),h("/menu",{state:{serviceType:e,table:b}});return}if(k)try{const te=await fetch(`${H}/api/waitlist/status?token=${k}`);if(te.ok){const re=await te.json();if(re.status==="NOTIFIED"||re.status==="SEATED"){se(),console.log(`[SecondPage] Waitlist user ${re.status} (in startDineInFlow) - cleared all order data for new customer`),re.status==="SEATED"&&re.sessionToken&&(localStorage.setItem("terra_sessionToken",re.sessionToken),L(re.sessionToken),localStorage.removeItem("terra_waitToken"),P(null),c(null)),localStorage.setItem("terra_serviceType",e),h("/menu",{state:{serviceType:e,table:b}});return}else{if(e==="TAKEAWAY"){a(!1),r(!1);return}a(!0),T(b),localStorage.setItem("terra_selectedTable",JSON.stringify(b)),r(!0);return}}}catch(te){console.error("Failed to check waitlist status",te)}a(!0),T(b),localStorage.setItem("terra_selectedTable",JSON.stringify(b)),r(!0);return}if(!W.ok||!p?.table){if(W.status===404){localStorage.removeItem("terra_selectedTable"),localStorage.removeItem("terra_scanToken"),localStorage.removeItem("terra_sessionToken"),T(null),L(null),alert("Table not found. The QR code may be invalid or the table may have been removed. Please scan the table QR code again or contact staff for assistance.");return}throw new Error(p?.message||"Failed to check table status.")}const D=p.table;if((D.status||"AVAILABLE")==="AVAILABLE"){if(localStorage.setItem("terra_selectedTable",JSON.stringify(D)),T(D),a(!1),r(!1),k&&(localStorage.removeItem("terra_waitToken"),P(null),c(null)),p.sessionToken||D.sessionToken){const b=p.sessionToken||D.sessionToken;b&&(localStorage.setItem("terra_sessionToken",b),L(b))}localStorage.setItem("terra_serviceType",e),h("/menu",{state:{serviceType:e,table:D}});return}if(localStorage.setItem("terra_selectedTable",JSON.stringify(D)),T(D),p.order&&p.order._id){if(console.log("[SecondPage] Backend returned active order - granting access"),p.sessionToken||D.sessionToken){const b=p.sessionToken||D.sessionToken;b&&(localStorage.setItem("terra_sessionToken",b),L(b))}localStorage.setItem("terra_orderId",p.order._id),localStorage.setItem("terra_orderId_DINE_IN",p.order._id),p.order.status&&(localStorage.setItem("terra_orderStatus",p.order.status),localStorage.setItem("terra_orderStatus_DINE_IN",p.order.status)),a(!1),r(!1),localStorage.setItem("terra_serviceType",e),h("/menu",{state:{serviceType:e,table:D}});return}if(a(!0),p.sessionToken||D.sessionToken){const b=p.sessionToken||D.sessionToken;b&&(localStorage.setItem("terra_sessionToken",b),L(b))}if(k&&p.waitlist?.status==="SEATED"){if(se(),console.log("[SecondPage] Waitlist user SEATED (from table lookup) - cleared all order data for new customer"),p.waitlist.sessionToken){const b=p.waitlist.sessionToken;b&&(localStorage.setItem("terra_sessionToken",b),L(b))}localStorage.removeItem("terra_waitToken"),P(null),c(null),a(!1),r(!1),localStorage.setItem("terra_serviceType",e),h("/menu",{state:{serviceType:e,table:D}});return}if(e==="TAKEAWAY"){a(!1),r(!1);return}a(!0);const ee={...D,capacity:D.capacity||D.originalCapacity||n?.capacity||n?.originalCapacity||null,originalCapacity:D.originalCapacity||n?.originalCapacity||null};T(ee),localStorage.setItem("terra_selectedTable",JSON.stringify(ee)),r(!0)}catch(v){console.error("startServiceFlow error",v),v.message&&v.message.includes("Table not found")?(localStorage.removeItem("terra_selectedTable"),localStorage.removeItem("terra_scanToken"),localStorage.removeItem("terra_sessionToken"),T(null),L(null),alert("Table not found. The QR code may be invalid or the table may have been removed. Please scan the table QR code again or contact staff for assistance.")):alert(`Unable to check table availability: ${v.message||"Unknown error"}. Please try again or contact staff for help.`)}},[h,k,F]),ge=d.useCallback(()=>ve("DINE_IN"),[ve]),We=d.useCallback(()=>{localStorage.removeItem("terra_waitToken"),P(null),c(null),r(!1),a(!1),localStorage.setItem("terra_serviceType","TAKEAWAY");const e=`TAKEAWAY-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;localStorage.setItem("terra_takeaway_sessionToken",e),localStorage.removeItem("terra_orderId_TAKEAWAY"),localStorage.removeItem("terra_cart_TAKEAWAY"),localStorage.removeItem("terra_orderStatus_TAKEAWAY"),localStorage.removeItem("terra_orderStatusUpdatedAt_TAKEAWAY"),localStorage.removeItem("terra_orderType"),h("/menu",{state:{serviceType:"TAKEAWAY"}})},[h,n]),Ve=d.useCallback(async()=>{const e=`TAKEAWAY-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;console.log("[SecondPage] Starting new takeaway session - clearing old order data",{takeawayOnly:localStorage.getItem("terra_takeaway_only"),cartId:localStorage.getItem("terra_takeaway_cartId")}),localStorage.removeItem("terra_orderId_TAKEAWAY"),localStorage.removeItem("terra_cart_TAKEAWAY"),localStorage.removeItem("terra_orderStatus_TAKEAWAY"),localStorage.removeItem("terra_orderStatusUpdatedAt_TAKEAWAY"),localStorage.removeItem("terra_previousOrder"),localStorage.removeItem("terra_previousOrderDetail"),localStorage.removeItem("terra_takeaway_customerName"),localStorage.removeItem("terra_takeaway_customerMobile"),localStorage.removeItem("terra_takeaway_customerEmail"),console.log("[SecondPage] Cleared previous customer data for new takeaway session");const s=y?.trim(),o=A?.trim();if(!s||!o){alert("Please enter both Name and Mobile Number to continue.");return}if(!/^[a-zA-Z\s]{2,}$/.test(s)){alert("Please enter a valid Name (letters only).");return}if(!/^[0-9]{10}$/.test(o)){alert("Please enter a valid 10-digit Mobile Number.");return}if(M?.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M.trim())){alert("Please enter a valid Email Address.");return}localStorage.setItem("terra_takeaway_customerName",s),localStorage.setItem("terra_takeaway_customerMobile",o),M&&M.trim()?localStorage.setItem("terra_takeaway_customerEmail",M.trim()):localStorage.removeItem("terra_takeaway_customerEmail"),M&&M.trim()?localStorage.setItem("terra_takeaway_customerEmail",M.trim()):localStorage.removeItem("terra_takeaway_customerEmail");const w=localStorage.getItem("terra_takeaway_only")==="true",E=localStorage.getItem("terra_scanToken"),$=localStorage.getItem("terra_selectedTable"),v=!w&&!E&&!$;if(v&&C?localStorage.setItem("terra_orderType",C):localStorage.removeItem("terra_orderType"),v&&I?localStorage.setItem("terra_customerLocation",JSON.stringify(I)):localStorage.removeItem("terra_customerLocation"),v&&Y?._id?localStorage.setItem("terra_selectedCartId",Y._id):localStorage.removeItem("terra_selectedCartId"),v&&me&&me.trim()?localStorage.setItem("terra_specialInstructions",me.trim()):localStorage.removeItem("terra_specialInstructions"),v&&C==="DELIVERY"){if(!Y){alert("Please select a store for delivery.");return}if(!I||!I.address){alert("Please provide your delivery address.");return}let j=I.latitude,K=I.longitude;if(!j||!K){if(!I.address){alert("Please provide a valid delivery address.");return}const p=await ke(I.address);if(!p){alert("Could not determine the location of your address. Please use 'Use Current Location' or enter a more specific address.");return}j=p.latitude,K=p.longitude}const W=Oe(Y,j,K);if(!W.available){W.distance!==null?alert(`âŒ Delivery not available!

${W.reason}

Please select a different store or choose Pickup instead.`):alert(`âŒ Delivery not available!

${W.reason}

Please select a different store or choose Pickup instead.`);return}(I.latitude!==j||I.longitude!==K)&&(he({...I,latitude:j,longitude:K}),localStorage.setItem("terra_customerLocation",JSON.stringify({...I,latitude:j,longitude:K})))}localStorage.setItem("terra_takeaway_sessionToken",e),v&&C==="PICKUP"?localStorage.setItem("terra_serviceType","PICKUP"):v&&C==="DELIVERY"?localStorage.setItem("terra_serviceType","DELIVERY"):localStorage.setItem("terra_serviceType","TAKEAWAY"),localStorage.removeItem("terra_waitToken"),P(null),c(null),r(!1),a(!1),ue(!1),h("/menu",{state:{serviceType:"TAKEAWAY"}})},[y,A,M,h,C,Y,I]),Te=d.useCallback(()=>{De.current=!0,ue(!1)},[]),Fe=d.useCallback(()=>{ae(!0)},[]),Me=d.useCallback(async()=>{if(!n){alert("We couldn't detect your table. Please ask staff for help."),ae(!1);return}if((n.status||"AVAILABLE")==="AVAILABLE"){alert("Table is available. You can proceed directly without waitlist."),ae(!1);return}if(!i){alert("Table is not occupied. You can proceed directly."),ae(!1);return}const s=n?.id||n?._id;if(!s){alert("We couldn't detect your table. Please ask staff for help."),ae(!1);return}if(!G||!G.trim()){alert("Please enter your name to join the waitlist."),S(!1);return}let o=parseInt(B,10);if(!Number.isFinite(o)||o<=0){alert("Please enter a valid number of members (at least 1)."),S(!1);return}const f=n?.capacity||n?.originalCapacity||null;if(f&&o>f){alert(`This table can accommodate a maximum of ${f} members. Please enter ${f} or fewer members.`),S(!1);return}try{S(!0);const u=!!k,w=await fetch(`${H}/api/waitlist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableId:s,token:k||void 0,sessionToken:u&&(F||localStorage.getItem("terra_sessionToken"))||void 0,name:G.trim(),partySize:o})}),E=await w.json();if(!w.ok)throw new Error(E?.message||"Failed to join waitlist.");localStorage.setItem("terra_waitToken",E.token),P(E.token),c({token:E.token,status:"WAITING",position:E.position||1,name:E.name||G.trim()||null,partySize:E.partySize||o||1}),r(!1),ae(!1),pe(""),Se("1");const $=E.position||1;E.message==="Already in waitlist"?alert(`You're already in the waitlist. Your position is #${$}.`):alert(`Added to waitlist. Your position is #${$}.`)}catch(u){alert(u.message||"Failed to join waitlist.")}finally{S(!1)}},[n,i,k,G,B,F]),Ie=d.useCallback(()=>{ae(!1),pe(""),Se("1")},[]),Ue=d.useCallback(async()=>{if(!(!k||!await window.confirm(m("waitlistLeaveConfirm")||"Leave the waitlist?")))try{await fetch(`${H}/api/waitlist/${k}`,{method:"DELETE"})}catch(s){console.error("Failed to cancel waitlist",s)}finally{localStorage.removeItem("terra_waitToken"),P(null),c(null)}},[k,m]),Ye=d.useCallback(async()=>{if(k)try{const e=await fetch(`${H}/api/waitlist/status?token=${k}`);if(e.ok){const s=await e.json();c(s)}}catch(e){console.error("Failed to refresh waitlist",e)}},[k]),Be=e=>{switch((e||"").toUpperCase()){case"WAITING":return m("waitlistStatusWaiting");case"NOTIFIED":return m("waitlistStatusNotified");case"SEATED":return m("waitlistStatusSeated");case"CANCELLED":return m("waitlistStatusCancelled");default:return e||""}};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`main-container ${R?"accessibility-mode":"normal-mode"}`,children:[t.jsx(Qe,{showNavigationTabs:!1}),t.jsx("div",{className:`background-wrapper ${R?"accessibility-background":""}`,style:{backgroundImage:`url(${Ge})`},children:t.jsx("div",{className:"overlay"})}),t.jsxs("div",{className:"content-wrapper",children:[ie&&t.jsxs("div",{className:"order-type-page-section",children:[t.jsx(st,{selectedType:C,onTypeChange:xe,customerLocation:I,onLocationChange:he,selectedCart:Y,onCartChange:Re,nearbyCarts:Ne,loading:Ee,texts:{title:m("chooseOrderType"),pickupOption:m("pickupOption"),pickupDesc:m("pickupDesc"),deliveryOption:m("deliveryOption"),deliveryDesc:m("deliveryDesc")}}),t.jsx("button",{type:"button",className:"order-type-continue-btn",onClick:()=>{if(!C){alert(m("pleaseSelectOrderType")||"Please select Pickup or Delivery.");return}if(!I||!I.address){alert(m("pleaseEnterLocation")||"Please enter your location or use current location.");return}if(C==="DELIVERY"&&(!I.latitude||!I.longitude)&&!(I.address&&/^\d{6}$/.test(I.address.trim()))){alert(m("pleaseUseLocationForDelivery")||"For delivery, please use 'Use Current Location' or enter a 6-digit pin code.");return}if(C==="DELIVERY"&&!Y){alert(m("pleaseSelectStore")||"Please select a store for delivery.");return}if(C==="PICKUP"&&!Y){alert(m("pleaseSelectStore")||"Please select a store for pickup.");return}ue(!0)},disabled:!C||!I||!Y||C==="DELIVERY"&&(!I.latitude||!I.longitude)&&!/^\d{6}$/.test((I.address||"").trim()),children:m("continueButton")||"Continue"})]}),t.jsxs("div",{className:"buttons-container",children:[(()=>{const e=localStorage.getItem("terra_takeaway_only")==="true",s=localStorage.getItem("terra_scanToken"),o=localStorage.getItem("terra_selectedTable")||n,f=!!(typeof window<"u"&&new URLSearchParams(window.location.search).get("table"));return!oe&&!(!e&&!s&&!o&&!f)})()&&t.jsx("button",{onClick:()=>{const e=localStorage.getItem("terra_orderId")||localStorage.getItem("terra_orderId_DINE_IN"),s=localStorage.getItem("terra_orderStatus")||localStorage.getItem("terra_orderStatus_DINE_IN");if(e&&s&&!["Paid","Cancelled","Returned","Completed"].includes(s)){console.log("[SecondPage] User has active order - granting immediate access via button"),ge();return}if(!n){alert("We couldn't detect your table. Please scan the table QR again.");return}const f=n.status||"AVAILABLE";if(f==="AVAILABLE"){ge();return}if(f!=="AVAILABLE"&&!k){if((localStorage.getItem("terra_serviceType")||"DINE_IN")==="TAKEAWAY"){a(!1),r(!1);return}a(!0),localStorage.setItem("terra_selectedTable",JSON.stringify(n)),r(!0);return}ge()},className:`nav-btn ${R?"nav-btn-accessibility":"nav-btn-normal"}`,children:m("dineIn")}),(()=>{const e=localStorage.getItem("terra_takeaway_only")==="true",s=localStorage.getItem("terra_scanToken"),o=localStorage.getItem("terra_selectedTable")||n,f=!!(typeof window<"u"&&new URLSearchParams(window.location.search).get("table"));return!(!e&&!s&&!o&&!f)})()&&t.jsx("button",{onClick:We,className:`nav-btn ${R?"nav-btn-accessibility":"nav-btn-normal"}`,children:m("takeAway")})]}),!oe&&localStorage.getItem("terra_serviceType")!=="TAKEAWAY"&&k&&_&&n?.status!=="AVAILABLE"&&t.jsxs("div",{className:"waitlist-status-card",children:[t.jsx("h3",{className:"waitlist-status-title",children:m("waitlistActiveTitle")}),t.jsxs("p",{className:"waitlist-text",children:[m("waitlistStatusLabel"),":"," ",t.jsx("strong",{children:Be(_.status)})]}),_.position>0&&t.jsx("p",{className:"waitlist-text",children:m("waitlistPosition",{position:_.position})}),t.jsx("p",{className:"waitlist-text",children:m("waitlistInstructions")}),t.jsxs("div",{className:"waitlist-actions",children:[t.jsx("button",{className:"waitlist-primary",onClick:()=>{if(_.status==="WAITING"){alert("Table is currently occupied. Please wait for your turn in the waitlist.");return}ge()},disabled:_.status!=="NOTIFIED"&&_.status!=="SEATED",children:m("waitlistReadyButton")}),t.jsx("button",{className:"waitlist-secondary",onClick:Ue,children:m("waitlistCancel")}),t.jsx("button",{className:"waitlist-secondary",onClick:Ye,children:m("waitlistRefresh")})]})]}),t.jsx("div",{className:"spacer"})]}),!oe&&localStorage.getItem("terra_serviceType")!=="TAKEAWAY"&&N&&t.jsx("div",{className:"waitlist-modal",children:t.jsxs("div",{className:"waitlist-panel",children:[t.jsx("h3",{className:"waitlist-title",children:m("waitlistTitle")}),t.jsx("p",{className:"waitlist-text",children:m("waitlistDescription")}),t.jsx("p",{className:"waitlist-text",children:m("waitlistDescription")||"This table is currently occupied. Would you like to join the waitlist?"}),t.jsxs("div",{className:"waitlist-actions",children:[t.jsx("button",{className:"waitlist-primary",onClick:Fe,disabled:l,children:m("waitlistJoin")||"Join Waitlist"}),t.jsx("button",{className:"waitlist-secondary",onClick:()=>{r(!1),alert("Table is currently occupied. You must join the waitlist to access Dine In. Please join the waitlist when you're ready.")},children:m("waitlistNotNow")||"Not Now"})]})]})}),Pe&&t.jsx("div",{className:"customer-info-modal-overlay",onClick:e=>{e.target===e.currentTarget&&Ie()},children:t.jsxs("div",{className:"customer-info-modal",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"customer-info-modal-header",children:[t.jsx("h3",{children:"Join Waitlist"}),t.jsx("button",{className:"customer-info-close-btn",onClick:Ie,children:"âœ•"})]}),t.jsxs("div",{className:"customer-info-modal-body",children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666",fontSize:"0.9rem"},children:"Please provide your details to join the waitlist:"}),t.jsxs("div",{className:"customer-info-form",children:[t.jsxs("div",{className:"customer-info-field",children:[t.jsx("label",{htmlFor:"waitlistGuestName",children:"Your Name *"}),t.jsx("input",{type:"text",id:"waitlistGuestName",value:G,onChange:e=>pe(e.target.value),placeholder:"Enter your name",className:"customer-info-input",required:!0})]}),t.jsxs("div",{className:"customer-info-field",children:[t.jsxs("label",{htmlFor:"waitlistPartySize",children:["Number of Members *",n?.capacity&&t.jsxs("span",{style:{fontSize:"0.85rem",fontWeight:"normal",color:"#666",marginLeft:"8px"},children:["(Max: ",n.capacity,")"]})]}),t.jsx("input",{type:"number",id:"waitlistPartySize",value:B,onChange:e=>{const s=e.target.value;Se(s)},placeholder:"Enter number of members",className:"customer-info-input",min:"1",max:n?.capacity||n?.originalCapacity||void 0,required:!0}),(n?.capacity||n?.originalCapacity)&&t.jsxs("p",{style:{marginTop:"4px",fontSize:"0.75rem",color:"#666"},children:["Available Seats:"," ",t.jsx("strong",{children:n.capacity||n.originalCapacity||"N/A"}),B&&parseInt(B,10)>(n.capacity||n.originalCapacity)&&t.jsxs("span",{style:{display:"block",marginTop:"4px",color:"#ef4444",fontWeight:"500"},children:["âš ï¸ Maximum capacity is"," ",n.capacity||n.originalCapacity," ","members. Please reduce the number of members."]})]})]})]})]}),t.jsxs("div",{className:"customer-info-modal-footer",children:[t.jsx("button",{className:"customer-info-skip-btn",onClick:Ie,children:"Cancel"}),t.jsx("button",{className:"customer-info-submit-btn",onClick:Me,disabled:l||!G||!G.trim()||!B||parseInt(B,10)<=0||n?.capacity&&parseInt(B,10)>n.capacity,style:{opacity:l||!G||!G.trim()||!B||parseInt(B,10)<=0||n?.capacity&&parseInt(B,10)>n.capacity?.6:1,cursor:l||!G||!G.trim()||!B||parseInt(B,10)<=0||n?.capacity&&parseInt(B,10)>n.capacity?"not-allowed":"pointer"},children:l?"Joining...":"Join Waitlist"})]})]})}),Ae&&t.jsx("div",{className:"customer-info-modal-overlay",onClick:e=>{e.target===e.currentTarget&&!ie&&Te()},children:t.jsxs("div",{className:"customer-info-modal",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"customer-info-modal-header",children:[t.jsx("h3",{children:m("customerInfoTitle")||"Customer Information (Required)"}),t.jsx("button",{className:"customer-info-close-btn",onClick:Te,children:"âœ•"})]}),t.jsxs("div",{className:"customer-info-modal-body",children:[t.jsx("p",{style:{marginBottom:"16px",color:"#d97706",fontSize:"0.9rem",fontWeight:"600"},children:ie&&C?C==="PICKUP"?m("customerInfoDescPickup")||"Please provide your details for the pickup order. Name and mobile number are required.":m("customerInfoDescDelivery")||"Please provide your details for the delivery order. Name and mobile number are required.":m("customerInfoDescTakeaway")||"Please provide your details for the takeaway order. Name and mobile number are required."}),t.jsxs("div",{className:"customer-info-form",children:[t.jsxs("div",{className:"customer-info-field",children:[t.jsx("label",{htmlFor:"customerName",children:m("nameLabel")||"Name (Required)"}),t.jsx("input",{type:"text",id:"customerName",value:y,onChange:e=>g(e.target.value),placeholder:m("namePlaceholder")||"Enter your name",className:"customer-info-input",required:!0})]}),t.jsxs("div",{className:"customer-info-field",children:[t.jsx("label",{htmlFor:"customerMobile",children:m("mobileLabel")||"Mobile Number (Required)"}),t.jsx("input",{type:"tel",id:"customerMobile",value:A,onChange:e=>O(e.target.value),placeholder:m("mobilePlaceholder")||"Enter mobile number",className:"customer-info-input",required:!0})]}),t.jsxs("div",{className:"customer-info-field",children:[t.jsx("label",{htmlFor:"customerEmail",children:m("emailLabel")||"Email (Optional)"}),t.jsx("input",{type:"email",id:"customerEmail",value:M,onChange:e=>ne(e.target.value),placeholder:m("emailPlaceholder")||"Enter email address",className:"customer-info-input"})]}),ie&&(C==="PICKUP"||C==="DELIVERY")&&t.jsxs("div",{className:"customer-info-field",children:[t.jsx("label",{htmlFor:"specialInstructions",children:m("specialInstructionsLabel")||"Special Instructions (Optional)"}),t.jsx("textarea",{id:"specialInstructions",value:me,onChange:e=>Ce(e.target.value),placeholder:m("specialInstructionsPlaceholder")||"e.g., No onion, Urgent pickup, Leave at door",className:"customer-info-input",rows:3})]})]})]}),t.jsx("div",{className:"customer-info-modal-footer",children:t.jsx("button",{className:"customer-info-submit-btn",onClick:Ve,style:{width:"100%"},children:m("continueButton")||"Continue"})})]})})]}),t.jsx(Xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>h("/blind-assistant"),className:"fixed rounded-full shadow-lg bg-orange-500 text-white hover:bg-orange-600 focus:outline-none blind-eye-btn",style:{position:"fixed",bottom:"20px",right:"20px",width:"56px",height:"56px",display:"grid",placeItems:"center",border:"none",cursor:"pointer",boxShadow:"0 6px 18px rgba(0,0,0,0.25)",transition:"transform .2s ease, box-shadow .2s ease, background .2s ease",zIndex:9e3,pointerEvents:"auto"},"aria-label":"Blind Support - Voice Assistant",children:t.jsx("img",{src:He,alt:"Blind Support",width:"24",height:"24",style:{objectFit:"contain",filter:"brightness(0) invert(1)"}})})]})}export{ht as S};
